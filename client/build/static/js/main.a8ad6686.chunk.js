(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{142:function(e,t,a){e.exports=a.p+"static/media/hero-image.ac05986b.jpg"},175:function(e,t,a){e.exports=a(191)},180:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n,r,l,i,o,c,m,s=a(0),u=a.n(s),d=a(57),g=a.n(d),p=(a(180),a(11)),b=a(145),E=a(194),f=a(207),h=a(205),y=a(144),j=a(21),w=a(24),v=a(15),O=a(128),x=a(94),S=a(6),k=a(18),C=a.n(k),I=a(31),F=a(10),T=a(199),_=a(38),A=a(206),z=Object(A.a)(n||(n=Object(_.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        displayname\n      }\n    }\n  }\n"]))),L=Object(A.a)(r||(r=Object(_.a)(["\n  mutation addUser($email: String!, $password: String!, $displayname: String!) {\n    addUser(email: $email, password: $password, displayname: $displayname) {\n      token\n      user {\n        _id\n        displayname\n      }\n    }\n  }\n"]))),D=Object(A.a)(l||(l=Object(_.a)(["\n  mutation addTempImage($filename: String!) {\n    addTempImage(filename: $filename) {\n      _id\n      email\n      displayname\n      password\n      tempImageFile\n    }\n  }\n"]))),$=Object(A.a)(i||(i=Object(_.a)(["\n  mutation removeTempImage {\n    removeTempImage {\n      _id\n      email\n      displayname\n      password\n      tempImageFile\n    }\n  }\n"]))),R=Object(A.a)(o||(o=Object(_.a)(["\n  mutation addArticle($category: ArticleCategory!, $description: String, $tags: [String]) {\n    addArticle(category: $category, description: $description, tags: $tags) {\n      _id\n      category\n      description\n      tags\n      imageFile\n    }\n  }\n"]))),W=Object(A.a)(c||(c=Object(_.a)(["\n  mutation updateArticle($articleId: ID!, $category: ArticleCategory, $description: String, $tags: [String], $imageAction: ImageAction) {\n    updateArticle(articleId: $articleId, category: $category, description: $description, tags: $tags, imageAction: $imageAction) {\n      _id\n    }\n  }\n"]))),B=Object(A.a)(m||(m=Object(_.a)(["\n  mutation removeArticle($articleId: ID!) {\n    removeArticle(articleId: $articleId) {\n      description\n      category\n      _id\n    }\n  }\n"]))),U=a(137),H=a(91),P=a(75),q=a(129),M=a(130),N=a(117),Y=a(8),G=a(9),V=a(111),J=a.n(V),Q=new(function(){function e(){Object(Y.a)(this,e)}return Object(G.a)(e,[{key:"getProfile",value:function(){return J()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return J()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/profile")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),X=function(){var e=Object(T.a)(L),t=Object(S.a)(e,1)[0],a=Object(s.useState)({displayname:"",email:"",password:""}),n=Object(S.a)(a,2),r=n[0],l=n[1],i=Object(s.useState)(!1),o=Object(S.a)(i,2),c=o[0],m=o[1],d=Object(U.a)(),g=function(e){var t=e.target,a=t.name,n=t.value;l(Object(p.a)(Object(p.a)({},r),{},Object(F.a)({},a,n)))},b=function(){var e=Object(I.a)(C.a.mark((function e(a){var n,i,o,c,m;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r.displayname.trim()&&r.email.trim()&&r.password.trim()){e.next=4;break}return d({title:"You must enter a display name, email address, password ",status:"warning",duration:5e3,isClosable:!0}),e.abrupt("return");case 4:return e.prev=4,console.log(r),e.next=8,t({variables:r});case 8:n=e.sent,i=n.data,o=i.addUser,c=o.token,m=o.user,console.log(m),Q.login(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:l({displayname:"",email:"",password:""});case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(O.d,{as:"form",minH:"30vh",align:"center",justify:"center",bg:Object(H.d)("gray.50","gray.800"),onSubmit:b},u.a.createElement(O.j,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6},u.a.createElement(O.j,{align:"center"},u.a.createElement(O.h,{fontSize:"4xl",textAlign:"center"},"Sign up"),u.a.createElement(O.l,{fontSize:"lg",color:"gray.600"},"to use MyStyle!")),u.a.createElement(O.a,{rounded:"lg",bg:Object(H.d)("white","gray.700"),boxShadow:"lg",p:8},u.a.createElement(O.j,{spacing:4},u.a.createElement(O.g,null,u.a.createElement(O.a,null,u.a.createElement(P.a,{id:"displayname",isRequired:!0},u.a.createElement(P.b,null,"Display Name"),u.a.createElement(q.a,{type:"text",onChange:g,value:r.displayname,name:"displayname"})))),u.a.createElement(P.a,{id:"email",isRequired:!0},u.a.createElement(P.b,null,"Email address"),u.a.createElement(q.a,{type:"email",onChange:g,value:r.email,name:"email"})),u.a.createElement(P.a,{id:"password",isRequired:!0},u.a.createElement(P.b,null,"Password"),u.a.createElement(q.b,null,u.a.createElement(q.a,{type:c?"text":"password",onChange:g,value:r.password,name:"password"}),u.a.createElement(q.c,{h:"full"},u.a.createElement(M.a,{variant:"ghost",onClick:function(){return m((function(e){return!e}))}},c?u.a.createElement(N.a,null):u.a.createElement(N.b,null))))),u.a.createElement(O.j,{spacing:10,pt:2},u.a.createElement(M.a,{type:"submit",loadingText:"Submitting",size:"lg",bg:"blue.400",color:"white",_hover:{bg:"blue.500"}},"Sign up")),u.a.createElement(O.j,{pt:6},u.a.createElement(O.l,{align:"center"},"Already have an account? ",u.a.createElement(O.i,{as:j.b,to:"/login",color:"blue.400"},"Login")))))))},K=a(2),Z=a(29),ee=(Object(K.d)(Z.g),Object(K.d)(Z.c),function(){var e=Object(s.useState)({email:"",password:""}),t=Object(S.a)(e,2),a=t[0],n=t[1],r=Object(T.a)(z),l=Object(S.a)(r,2),i=l[0],o=l[1].error,c=Object(U.a)(),m=function(e){var t=e.target,r=t.name,l=t.value;n(Object(p.a)(Object(p.a)({},a),{},Object(F.a)({},r,l)))},d=function(){var e=Object(I.a)(C.a.mark((function e(t){var r,l,m,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.email.trim()&&a.password.trim()){e.next=4;break}return c({title:"You must enter a email address and password ",status:"warning",duration:5e3,isClosable:!0}),e.abrupt("return");case 4:return e.prev=4,console.log(a),e.next=8,i({variables:{email:a.email,password:a.password}});case 8:r=e.sent,l=r.data,m=l.login,s=m.token,u=m.user,console.log(u),Q.login(s),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(o),c({title:"Something went wrong with your login credentials!",status:"warning",duration:5e3,isClosable:!0});case 19:n({email:"",password:""});case 20:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(O.d,{as:"form",minH:"30vh",align:"center",justify:"center",bg:Object(H.d)("gray.50","gray.800"),onSubmit:d},u.a.createElement(O.j,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6},u.a.createElement(O.j,{align:"center"},u.a.createElement(O.h,{fontSize:"4xl"},"Sign in to your MyStyle account!"),u.a.createElement(O.l,{fontSize:"lg",color:"gray.600"},"to enjoy all of our cool ",u.a.createElement(O.i,{color:"blue.400"},"features")," \u270c\ufe0f")),u.a.createElement(O.a,{rounded:"lg",bg:Object(H.d)("white","gray.700"),boxShadow:"lg",p:8},u.a.createElement(O.j,{spacing:4},u.a.createElement(P.a,{id:"email"},u.a.createElement(P.b,null,"Email address"),u.a.createElement(q.a,{type:"email",onChange:m,value:a.email,name:"email"})),u.a.createElement(P.a,{id:"password"},u.a.createElement(P.b,null,"Password"),u.a.createElement(q.a,{type:"password",onChange:m,value:a.password,name:"password"})),u.a.createElement(M.a,{type:"submit",isDisabled:!(a.email&&a.password),bg:"blue.400",color:"white",_hover:{bg:"blue.500"}},"Sign in")))))}),te=["children","isLast","to","pointer"],ae=["children"],ne=function(){return u.a.createElement("svg",{width:"24",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("title",null,"Close"),u.a.createElement("path",{fill:"white",d:"M9.00023 7.58599L13.9502 2.63599L15.3642 4.04999L10.4142 8.99999L15.3642 13.95L13.9502 15.364L9.00023 10.414L4.05023 15.364L2.63623 13.95L7.58623 8.99999L2.63623 4.04999L4.05023 2.63599L9.00023 7.58599Z"}))},re=function(){return u.a.createElement("svg",{width:"24px",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"white"},u.a.createElement("title",null,"Menu"),u.a.createElement("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"}))},le=function(e){var t=e.toggle,a=e.isOpen;return u.a.createElement(O.a,{display:{base:"block",md:"none"},onClick:t},a?u.a.createElement(ne,null):u.a.createElement(re,null))},ie=function(e){var t=e.children,a=(e.isLast,e.to),n=void 0===a?"/":a,r=e.pointer,l=Object(x.a)(e,te);return u.a.createElement(O.i,{as:j.b,to:n,pointerEvents:r},u.a.createElement(O.l,Object.assign({display:"block"},l,{textColor:"pink.800",fontSize:"lg"}),t))},oe=function(e){var t=e.isOpen;return u.a.createElement(O.a,{display:{base:t?"block":"none",md:"block"},flexBasis:{base:"100%",md:"auto"}},u.a.createElement(O.j,{spacing:8,align:"center",justify:["center","space-between","flex-end","flex-end"],direction:["column","row","row","row"],pt:[4,4,0,0]},u.a.createElement(ie,{to:"/"},"Home"),u.a.createElement(ie,{to:"/profile",pointer:Q.loggedIn()?"auto":"none"},"My Wardrobe "),u.a.createElement(ie,{to:"/addItem",pointer:Q.loggedIn()?"auto":"none"},"Add Item "),Q.loggedIn()?u.a.createElement(ie,{pointer:"auto",isLast:!0},u.a.createElement(M.a,{size:"sm",rounded:"md",color:["primary.500","primary.500","pink.800","pink.800"],bg:["white","white","primary.500","primary.500"],_hover:{bg:["primary.100","primary.100","primary.600","primary.600"]},fontSize:"lg",onClick:function(){return Q.logout()}},"Logout")):u.a.createElement(u.a.Fragment,null,u.a.createElement(ie,{to:"/login",pointer:"auto"},u.a.createElement(M.a,{size:"sm",rounded:"md",color:["primary.500","primary.500","pink.800","pink.800"],bg:["white","white","primary.500","primary.500"],_hover:{bg:["primary.100","primary.100","primary.600","primary.600"]},fontSize:"lg"},"Login")),u.a.createElement(ie,{to:"/signup",pointer:"auto",isLast:!0},u.a.createElement(M.a,{size:"sm",rounded:"md",color:["primary.500","primary.500","pink.800","pink.800"],bg:["white","white","primary.500","primary.500"],_hover:{bg:["primary.100","primary.100","primary.600","primary.600"]},fontSize:"lg"},"Signup")))))},ce=function(e){var t=e.children,a=Object(x.a)(e,ae);return u.a.createElement(O.d,Object.assign({as:"nav",align:"center",justify:"space-between",wrap:"wrap",w:"100%",mb:8,p:8,bg:["primary.500","primary.500","transparent","transparent"],color:["white","white","primary.700","primary.700"]},a),t)},me=function(e){var t=Object(s.useState)(!1),a=Object(S.a)(t,2),n=a[0],r=a[1];Q.loggedIn();return u.a.createElement(ce,Object.assign({},e,{bg:"pink.100"}),u.a.createElement(O.c,{maxW:"container.lg",display:"flex",justify:"center"},u.a.createElement(le,{toggle:function(){return r(!n)},isOpen:n}),u.a.createElement(oe,{isOpen:n})))};var se=function(){return u.a.createElement(O.m,{spacing:5},u.a.createElement(me,null),u.a.createElement(j.b,{to:"/"},u.a.createElement(O.h,{fontFamily:"Pacifico",textAlign:"center",fontSize:"64px",textColor:"pink.500"},"MyStyle")))},ue=a(28),de=a(142),ge=a.n(de);var pe,be,Ee,fe,he=function(){return u.a.createElement(O.m,{maxW:"container.lg",spacing:10,mb:20},u.a.createElement(O.a,{w:"full",height:"25rem",marginTop:"5em",backgroundImage:ge.a,backgroundPosition:"center",backgroundSize:"cover"},u.a.createElement(O.d,{px:4,w:"full",height:"full",justify:"center",align:"center",flexDir:"column",gap:5},u.a.createElement(O.h,{p:5,bg:"gray.50",textColor:"pink.500"},"Build your online wardrobe"),u.a.createElement(O.a,{display:"flex",justify:"space-between",gap:8},u.a.createElement(M.a,{variant:"outline",textColor:"pink.50",borderColor:"pink.50",_hover:{background:"pink.500",borderColor:"pink.500"},as:j.b,to:"/login",borderRadius:"0",size:"lg"},"Login"),u.a.createElement(M.a,{as:j.b,to:"/signup",borderRadius:"0",size:"lg",colorScheme:"pink",textColor:"gray.50"},"Sign Up")))),u.a.createElement(O.j,{direction:["column","row"],justify:"space-around",align:"stretch",w:"full"},u.a.createElement(O.a,{boxShadow:"md",border:"1px",borderColor:"gray.200",w:"200px",bg:"pink.50"},u.a.createElement(O.m,{spacing:8},u.a.createElement(O.a,{m:3,p:2,bg:"pink.500",borderRadius:"full",boxSize:10,textAlign:"center",boxShadow:"md",textColor:"white",fontWeight:"bold"},"1"),u.a.createElement(O.a,{p:3},"Create your account"),u.a.createElement(O.a,{p:3},u.a.createElement(M.a,{colorScheme:"pink",borderRadius:0,as:j.b,to:"/signup"},"Click here!")))),u.a.createElement(O.a,{boxShadow:"md",border:"1px",borderColor:"gray.200",w:"200px",bg:"pink.50"},u.a.createElement(O.m,{spacing:8},u.a.createElement(O.a,{m:3,p:2,bg:"pink.500",borderRadius:"full",boxSize:10,textAlign:"center",boxShadow:"md",textColor:"white",fontWeight:"bold"},"2"),u.a.createElement(O.a,{p:3},"Upload your clothes"),u.a.createElement(O.a,{p:3},u.a.createElement(ue.a,{as:Z.a,boxSize:10,textColor:"pink.500"})))),u.a.createElement(O.a,{boxShadow:"md",border:"1px",borderColor:"gray.200",w:"200px",bg:"pink.50"},u.a.createElement(O.m,{spacing:8},u.a.createElement(O.a,{m:3,p:2,bg:"pink.500",borderRadius:"full",boxSize:10,textAlign:"center",boxShadow:"md",textColor:"white",fontWeight:"bold"},"3"),u.a.createElement(O.a,{p:3},"View it all online"),u.a.createElement(O.a,{p:3},u.a.createElement(ue.a,{as:Z.h,boxSize:10,textColor:"pink.500"}))))))},ye=a(133),je=a(131),we=a(136),ve=a(42),Oe=a(146),xe=a(143),Se=Object(xe.a)({apiKey:"AIzaSyDF4HwSEpqS1e8XHRg8S4omGzXjhVW4dL0",authDomain:"mystyle-33b1c.firebaseapp.com",projectId:"mystyle-33b1c",storageBucket:"mystyle-33b1c.appspot.com",messagingSenderId:"109829470130",appId:"1:109829470130:web:b04d66cc7ff28fc4cbd6ab",measurementId:"G-2NMGHGS1RN"}),ke=Object(ve.b)(Se);function Ce(e){var t;if(null===e||void 0===e||null===(t=e.type)||void 0===t?void 0:t.startsWith("image"))return!0;throw new Error("Not a valid image file.")}function Ie(e){var t=function(e){var t,a=null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.lastIndexOf(".");if(-1===a||void 0===a)throw new Error("Image file does not have a file extension.");return e.name.substring(a)}(e);return Object(Oe.a)()+t}function Fe(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","/no_image_uploaded.png");case 2:return e.next=4,Object(ve.a)(Object(ve.c)(ke,t));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(A.a)(pe||(pe=Object(_.a)(["\n  query me {\n    me {\n      _id\n      email\n      displayname\n      tempImageFile\n      clothing {\n        _id\n        category\n        description\n        tags\n        imageFile\n      }\n    }\n  }\n"])));var _e=Object(A.a)(be||(be=Object(_.a)(["\n  query article($articleId: ID!) {\n    article(articleId: $articleId) {\n      _id\n      category\n      description\n      tags\n      imageFile\n      owner {\n        _id\n        displayname\n      }\n    }\n  }\n"]))),Ae=Object(A.a)(Ee||(Ee=Object(_.a)(["\n  query getTempImageFile {\n    me {\n      tempImageFile\n    }\n  }\n"]))),ze=Object(A.a)(fe||(fe=Object(_.a)(["\n  query categories {\n    categories{\n      category\n      clothing {\n        description\n        imageFile\n        _id\n      }\n    }\n  }  \n"])));var Le=function(e){var t=e.image,a=e.desc,n=e.id,r=Object(s.useState)(!1),l=Object(S.a)(r,2),i=l[0],o=l[1],c=function(){o(!1)},m=Object(T.a)(B,{refetchQueries:[ze]}),d=Object(S.a)(m,1)[0],g=Object(s.useRef)(),p=Object(s.useState)(""),b=Object(S.a)(p,2),E=b[0],f=b[1];return Object(s.useEffect)((function(){Fe(t).then(f)}),[t]),u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{p:0,bg:"pink.50",boxShadow:"md",borderTop:"1px",borderLeft:"1px",borderColor:"gray.200",maxW:"210px"},u.a.createElement(j.b,{to:"/viewItem/".concat(n)},u.a.createElement(je.a,{src:E,fallbackSrc:"https://via.placeholder.com/210x280?text=Loading...",w:"210px",h:"280px",fit:"cover",alt:a})),u.a.createElement(O.e,{templateColumns:"1fr minMax(150px, 1fr)",pr:2,gap:2,maxW:"160px"},u.a.createElement(O.f,null,u.a.createElement(M.c,{borderRadius:"0",size:"sm",icon:u.a.createElement(Z.f,null),"aria-label":"delete item",colorScheme:"pink",onClick:function(){return o(!0)}})),u.a.createElement(O.f,{display:""},u.a.createElement(O.l,{lineHeight:"2em",noOfLines:1,as:j.b,to:"/viewItem/".concat(n),overflow:"clip",textColor:"#000022"},a?"".concat(a):" ")))),u.a.createElement(we.a,{isOpen:i,leastDestructiveRef:g,onClose:c},u.a.createElement(we.f,null,u.a.createElement(we.c,null,u.a.createElement(we.e,{fontSize:"lg",fontWeight:"bold"},"Delete Article of Clothing"),u.a.createElement(we.b,null,"Are you sure you want to delete ",a?"your ".concat(a,"?"):"this item?"),u.a.createElement(we.d,null,u.a.createElement(M.a,{borderRadius:"0",ref:g,onClick:c},"Cancel"),u.a.createElement(M.a,{borderRadius:"0",bg:"red.400",onClick:function(e){e.preventDefault(),d({variables:{articleId:n}}),c()},ml:3},"Delete"))))))};var De=function(e){var t=e.category,a=e.items,n=e.setCurrCategory,r="Top"===t||"Bottom"===t?t+"s":"Accessory"===t?"Accessories":t,l=a.filter((function(e,t){return t<4}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{width:"full",py:4},u.a.createElement(O.h,{textColor:"pink.500",as:"h2",size:"xl"},r),u.a.createElement(O.d,{justify:"start",align:"start",minW:"full",gap:"38px",flexWrap:"wrap",marginTop:8},l.map((function(e){return u.a.createElement(Le,{image:e.imageFile,desc:e.description,id:e._id,key:e._id})}))),u.a.createElement(O.d,{display:a.length>4?"flex":"none",justify:"start",marginTop:8},u.a.createElement(M.a,{borderRadius:"0",colorScheme:"pink",onClick:function(){n(t)}},"More"))))},$e=a(132);var Re=function(){var e=Object($e.a)("(max-width: 768px)"),t=Object(S.a)(e,1)[0];return u.a.createElement(j.b,{to:"/addItem"},u.a.createElement(O.d,{display:t?"flex":"none",boxShadow:"md",colorScheme:"pink",as:M.a,justify:"center",align:"center",position:"fixed",bottom:"50px",right:"50px",boxSize:12,borderRadius:"full"},u.a.createElement(ue.a,{boxSize:8,as:Z.d})))};var We=function(e){var t=e.category,a=e.items,n=e.setCurrCategory,r="Top"===t||"Bottom"===t?t+"s":"Accessory"===t?"Accessories":t,l=function(){n(null)};return a.length?u.a.createElement(O.a,{minW:"full"},u.a.createElement(O.h,{as:"h1",textColor:"pink.500",marginTop:8},"Your ",r),u.a.createElement(O.l,{onClick:l,cursor:"pointer"},"\u2190  Back to Profile"),u.a.createElement(O.d,{justify:"start",flexWrap:"wrap",gap:6,my:4},a.map((function(e){return u.a.createElement(Le,{image:e.imageFile,desc:e.description,id:e._id,key:e._id})}))),u.a.createElement(O.l,{onClick:l,cursor:"pointer"},"\u2190  Back to Profile"),u.a.createElement(Re,null)):u.a.createElement(u.a.Fragment,null,u.a.createElement(O.h,{mt:10},"You haven't added any ",r.toLowerCase()),u.a.createElement(O.l,{onClick:l,cursor:"pointer"},"\u2190  Back to Profile"))},Be=a(204);var Ue=function(){Q.loggedIn()||window.location.assign("/");var e=Object(s.useState)(),t=Object(S.a)(e,2),a=t[0],n=t[1],r=Object(Be.a)(ze,{fetchPolicy:"cache-and-network"}),l=r.loading,i=r.data;if(l)return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.h,{mt:10},"Searching Narnia..."),u.a.createElement(ye.b,{colorScheme:"pink",size:"sm",isIndeterminate:!0}));var o=(null===i||void 0===i?void 0:i.categories)||[];return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.m,{spacing:5,p:4,divider:u.a.createElement(O.k,{borderColor:"gray.300"})},o.length?a?o.map((function(e,t){if(e.category===a)return u.a.createElement(We,{category:e.category,items:e.clothing,key:t,setCurrCategory:n})})):o.map((function(e,t){return u.a.createElement(De,{category:e.category,items:e.clothing,key:t,setCurrCategory:n})})):u.a.createElement(O.h,null,"You've got no clothes! Why don't you add some?")),u.a.createElement(Re,null))},He=a(134),Pe=function(e){var t=e.formState,a=e.setFormState;return u.a.createElement(P.a,{isRequired:!0},u.a.createElement(P.b,{htmlFor:"type"},"Item Category"),u.a.createElement(He.a,{id:"type",w:200,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{category:e.target.value}))}},u.a.createElement("option",null,"Top"),u.a.createElement("option",null,"Bottom"),u.a.createElement("option",null,"Outerwear"),u.a.createElement("option",null,"Footwear"),u.a.createElement("option",null,"Accessory")))},qe=function(e){var t=e.formState,a=e.setFormState;return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"description"},"Description"),u.a.createElement(q.a,{id:"description",placeholder:"Type a description of your item (optional)",value:t.description,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{description:e.target.value}))},maxLength:"100"}))},Me=a(26),Ne=a(135),Ye=function(e){var t=e.formState,a=e.setFormState,n=Object(s.useState)(""),r=Object(S.a)(n,2),l=r[0],i=r[1],o=Object(U.a)();return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"tags"},"Tags"),u.a.createElement(O.a,{minH:3,pb:1},0===t.tags.length?u.a.createElement(O.l,null,"No tags yet. Type a note to tag below and hit enter or the button to add one."):u.a.createElement(O.g,null,t.tags.map((function(e){return u.a.createElement(Ne.a,{key:e},u.a.createElement(Ne.c,null,e),u.a.createElement(Ne.b,{onClick:function(n){return r=e,void a(Object(p.a)(Object(p.a)({},t),{},{tags:t.tags.filter((function(e){return e!==r}))}));var r}}))})))),u.a.createElement(O.j,{as:"form",name:"tagForm",onSubmit:function(e){e.preventDefault(),l&&(t.tags.includes(l.trim())?o({title:"Tag already exists",status:"error",duration:3e3,isClosable:!0}):(a(Object(p.a)(Object(p.a)({},t),{},{tags:[].concat(Object(Me.a)(t.tags),[l.trim()])})),i("")))},direction:["column","row"]},u.a.createElement(q.a,{id:"newTag",placeholder:'"Size M", "Brown", "Polo shirt", "Gucci", etc.',value:l,onChange:function(e){return i(e.target.value)}}),u.a.createElement(M.a,{id:"addNewTagButton",type:"submit"},"Add New Tag")))},Ge=a(98),Ve=["name","isLoading","placeholder","acceptedFileTypes","children","buttonText","isInvalid","isRequired","onChange"],Je=function(e){var t=e.name,a=e.isLoading,n=(e.placeholder,e.acceptedFileTypes),r=e.children,l=(e.buttonText,e.isInvalid,e.isRequired,e.onChange),i=Object(x.a)(e,Ve),o=Object(s.useRef)();return u.a.createElement(q.b,null,u.a.createElement("input",Object.assign({type:"file",accept:n,name:t,ref:o},i,{onChange:l,style:{display:"none"}})),u.a.createElement(M.a,{isLoading:a,leftIcon:u.a.createElement(ue.a,{as:Z.b}),onClick:function(){return o.current.click()}},r||"Click here ..."))},Qe=function(e){var t=e.formState,a=e.setFormState,n=Object(T.a)(D),r=Object(S.a)(n,2),l=r[0],i=r[1].loading,o=Object(T.a)($),c=Object(S.a)(o,2),m=c[0],d=c[1].loading,g=Object(s.useState)(!1),b=Object(S.a)(g,2),E=b[0],f=b[1],h=Object(s.useState)("/no_image_uploaded.png"),y=Object(S.a)(h,2),j=y[0],w=y[1],v=Object(Be.a)(Ae),x=v.loading,k=v.data,C=Object(U.a)();(null===k||void 0===k?void 0:k.tempImageFile)&&!j.includes(k.tempImageFile)&&Fe(k.tempImageFile).then((function(e){a(Object(p.a)(Object(p.a)({},t),{},{imageUploaded:!0})),w(e)}));return u.a.createElement(O.a,null,u.a.createElement(P.a,{mb:1},u.a.createElement(P.b,{htmlFor:"fileUpload"},"Picture"),u.a.createElement(M.b,null,u.a.createElement(Je,{placeholder:"Click here",acceptedFileTypes:".jpg, .jpeg, .png, .gif, .bmp",name:"fileUpload",onChange:function(e){var n=e.target.files[0];if(n)try{Ce(n);var r=Ie(n),i=Object(ve.c)(ke,r);f(!0),Object(ve.d)(i,n).then((function(e){return Object(ve.a)(e.ref)})).then((function(e){l({variables:{filename:r}}),f(!1),w(e),a(Object(p.a)(Object(p.a)({},t),{},{imageUploaded:!0}))}))}catch(o){console.error(o),C({title:"The file you selected wasn't a valid image file!",status:"error",duration:3e3,isClosable:!0})}},isLoading:E||i},"Click to Upload"),u.a.createElement(M.c,{"aria-label":"Discard Image",isLoading:d,icon:u.a.createElement(Z.e,null),isDisabled:"/no_image_uploaded.png"===j,onClick:function(){m(),w("/no_image_uploaded.png"),a(Object(p.a)(Object(p.a)({},t),{},{imageUploaded:!1}))}}))),E||i||d||x?u.a.createElement(O.b,{w:"320px",h:"512px",border:1,boxShadow:"md"},u.a.createElement(Ge.a,{size:"xl"})):u.a.createElement(je.a,{maxH:"512px",border:1,boxShadow:"md",src:j}))},Xe=function(){var e=Object(s.useState)({description:"",category:"Top",tags:[],imageUploaded:!1}),t=Object(S.a)(e,2),a=t[0],n=t[1],r=Object(T.a)(R,{onCompleted:function(){window.location.assign("/profile")}}),l=Object(S.a)(r,2),i=l[0],o=l[1].loading,c=Object(U.a)();if(!Q.loggedIn())return u.a.createElement(w.a,{to:"/"});return u.a.createElement(O.m,{padding:4,spacing:6,align:"stretch",mb:10},u.a.createElement(O.h,null,"Add Item to Your Wardrobe"),u.a.createElement(Pe,{setFormState:n,formState:a}),u.a.createElement(Qe,{setFormState:n,formState:a}),u.a.createElement(qe,{setFormState:n,formState:a}),u.a.createElement(Ye,{formState:a,setFormState:n}),u.a.createElement(O.g,{spacing:4},u.a.createElement(M.a,{my:8,onClick:function(e){e.preventDefault(),a.imageUploaded||a.description.trim()?i({variables:{category:a.category,description:a.description,tags:a.tags}}):c({title:"Cannot Add Item",description:"You need to upload an image or enter a description.",status:"warning",duration:5e3,isClosable:!0})},isLoading:o},"Register New Item"),u.a.createElement(M.a,{as:j.b,to:"/profile"},"Go Back")))},Ke=Object(s.createContext)(),Ze=function(e){var t=e.children,a=Object(s.useState)([]),n=Object(S.a)(a,2),r=n[0],l=n[1];return u.a.createElement(Ke.Provider,{value:{userClothing:r,addClothing:function(e){l(e);var t=[{type:"tops",items:[]},{type:"bottoms",items:[]},{type:"outerwear",items:[]},{type:"accessories",items:[]},{type:"footwear",items:[]}];e.forEach((function(e){switch(e.category.toLowerCase()){case"top":t[0].items.push(e);break;case"bottom":t[1].items.push(e);break;case"outerwear":t[2].items.push(e);break;case"accessory":t[3].items.push(e);break;case"footwear":t[4].items.push(e);break;default:return}})),l(t)}}},t)},et=function(e){var t=e.category;return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"category"},"Item Category"),u.a.createElement(O.l,{id:"category"},t))},tt=function(e){var t=e.description;return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"description"},"Description"),u.a.createElement(O.l,null,t))},at=function(e){var t=e.tags;return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"tags"},"Tags"),u.a.createElement(O.a,{minH:3,pb:1},u.a.createElement(O.g,null,t.map((function(e){return u.a.createElement(Ne.a,{key:e},u.a.createElement(Ne.c,null,e))})))))},nt=function(e){var t=e.imageFile,a=Object(s.useState)(""),n=Object(S.a)(a,2),r=n[0],l=n[1];return Object(s.useEffect)((function(){Fe(t).then(l)}),[t]),u.a.createElement(O.a,null,u.a.createElement(P.a,{mb:1},u.a.createElement(P.b,null,"Picture")),r?u.a.createElement(je.a,{maxH:"512px",border:1,boxShadow:"md",src:r}):u.a.createElement(O.b,{w:"320px",h:"512px",border:1,boxShadow:"md"},u.a.createElement(Ge.a,{size:"xl"})))},rt=function(e){var t=e.article,a=t.category,n=t.description,r=t.imageFile,l=t.tags,i=t.owner.displayname;return u.a.createElement(O.m,{padding:4,spacing:6,align:"stretch",mb:10},u.a.createElement(O.h,null,"Item from ",i,"'s Wardrobe"),u.a.createElement(et,{category:a}),r?u.a.createElement(nt,{imageFile:r}):"",n?u.a.createElement(tt,{description:n}):"",(null===l||void 0===l?void 0:l.length)>0?u.a.createElement(at,{tags:l}):"")},lt=function(e){var t=e.formState,a=e.setFormState;return u.a.createElement(P.a,{isRequired:!0},u.a.createElement(P.b,{htmlFor:"type"},"Item Category"),u.a.createElement(He.a,{id:"type",w:200,defaultValue:t.category,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{category:e.target.value,hasChanges:!0}))}},u.a.createElement("option",null,"Top"),u.a.createElement("option",null,"Bottom"),u.a.createElement("option",null,"Outerwear"),u.a.createElement("option",null,"Footwear"),u.a.createElement("option",null,"Accessory")))},it=function(e){var t=e.formState,a=e.setFormState;return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"description"},"Description"),u.a.createElement(q.a,{id:"description",placeholder:"Type a description of your item (optional)",value:t.description,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{description:e.target.value,hasChanges:!0}))},maxLength:"100"}))},ot=function(e){var t=e.formState,a=e.setFormState,n=Object(s.useState)(""),r=Object(S.a)(n,2),l=r[0],i=r[1],o=Object(U.a)();return u.a.createElement(P.a,null,u.a.createElement(P.b,{htmlFor:"tags"},"Tags"),u.a.createElement(O.a,{minH:3,pb:1},0===t.tags.length?u.a.createElement(O.l,null,"No tags yet. Type a note to tag below and hit enter or the button to add one."):u.a.createElement(O.g,null,t.tags.map((function(e){return u.a.createElement(Ne.a,{key:e},u.a.createElement(Ne.c,null,e),u.a.createElement(Ne.b,{onClick:function(n){return r=e,void a(Object(p.a)(Object(p.a)({},t),{},{tags:t.tags.filter((function(e){return e!==r})),hasChanges:!0}));var r}}))})))),u.a.createElement(O.j,{as:"form",name:"tagForm",onSubmit:function(e){e.preventDefault(),l&&(t.tags.includes(l.trim())?o({title:"Tag already exists",status:"error",duration:3e3,isClosable:!0}):(a(Object(p.a)(Object(p.a)({},t),{},{tags:[].concat(Object(Me.a)(t.tags),[l.trim()]),hasChanges:!0})),i("")))},direction:["column","row"]},u.a.createElement(q.a,{id:"newTag",placeholder:'"Size M", "Brown", "Polo shirt", "Gucci", etc.',value:l,onChange:function(e){return i(e.target.value)}}),u.a.createElement(M.a,{id:"addNewTagButton",type:"submit"},"Add New Tag")))},ct=function(e){var t=e.formState,a=e.setFormState,n=Object(T.a)(D),r=Object(S.a)(n,2),l=r[0],i=r[1].loading,o=Object(s.useState)(!0),c=Object(S.a)(o,2),m=c[0],d=c[1],g=Object(s.useState)("/no_image_uploaded.png"),b=Object(S.a)(g,2),E=b[0],f=b[1],h=Object(U.a)();Object(s.useEffect)((function(){if(!t.imageFile)return d(!1),void f("/no_image_uploaded.png");Fe(t.imageFile).then((function(e){f(e),d(!1)}))}),[t.imageFile]);return u.a.createElement(O.a,null,u.a.createElement(P.a,{mb:1},u.a.createElement(P.b,{htmlFor:"fileUpload"},"Picture"),u.a.createElement(M.b,null,u.a.createElement(Je,{placeholder:"Click here",acceptedFileTypes:".jpg, .jpeg, .png, .gif, .bmp",name:"fileUpload",onChange:function(e){var n=e.target.files[0];if(n)try{Ce(n);var r=Ie(n),i=Object(ve.c)(ke,r);d(!0),Object(ve.d)(i,n).then((function(){l({variables:{filename:r}}),a(Object(p.a)(Object(p.a)({},t),{},{hasChanges:!0,imageFile:r,imageAction:"update"}))}))}catch(o){console.error(o),h({title:"The file you selected wasn't a valid image file!",status:"error",duration:3e3,isClosable:!0})}},isLoading:m||i},"Click to Upload"),u.a.createElement(M.c,{"aria-label":"Discard Image",icon:u.a.createElement(Z.e,null),isDisabled:"/no_image_uploaded.png"===E,onClick:function(){a(Object(p.a)(Object(p.a)({},t),{},{hasChanges:!0,imageFile:"",imageAction:"delete"}))}}))),m||i?u.a.createElement(O.b,{w:"320px",h:"512px",border:1,boxShadow:"md"},u.a.createElement(Ge.a,{size:"xl"})):u.a.createElement(je.a,{maxH:"512px",border:1,boxShadow:"md",src:E}))};var mt=function(e){var t=e.article,a=Object(s.useState)(!1),n=Object(S.a)(a,2),r=n[0],l=n[1],i=function(){l(!1)},o=Object(T.a)(B,{refetchQueries:[ze]}),c=Object(S.a)(o,1)[0],m=Object(s.useRef)();return u.a.createElement(u.a.Fragment,null,u.a.createElement(M.a,{onClick:function(){return l(!0)}},"Delete Item"),u.a.createElement(we.a,{isOpen:r,leastDestructiveRef:m,onClose:i},u.a.createElement(we.f,null,u.a.createElement(we.c,null,u.a.createElement(we.e,{fontSize:"lg",fontWeight:"bold"},"Delete Article of Clothing"),u.a.createElement(we.b,null,"Are you sure you want to delete ",t.description?"your ".concat(t.description,"?"):"this item?"),u.a.createElement(we.d,null,u.a.createElement(M.a,{borderRadius:"0",ref:m,onClick:i},"Cancel"),u.a.createElement(M.a,{borderRadius:"0",bg:"red.400",onClick:function(e){e.preventDefault(),c({variables:{articleId:t._id}}).then((function(){i(),window.location.assign("/profile")}))},ml:3},"Delete"))))))},st=function(e){var t=e.article,a={description:t.description,category:t.category,tags:Object(Me.a)(t.tags),imageAction:"none",imageFile:t.imageFile,hasChanges:!1},n=Object(s.useState)(a),r=Object(S.a)(n,2),l=r[0],i=r[1],o=Object(T.a)(W,{onCompleted:function(){window.location.assign("/profile")}}),c=Object(S.a)(o,2),m=c[0],d=c[1].loading,g=Object(U.a)();if(!Q.loggedIn())return u.a.createElement(w.a,{to:"/"});return u.a.createElement(O.m,{padding:4,spacing:6,align:"stretch",mb:10},u.a.createElement(O.h,null,"Add Item to Your Wardrobe"),u.a.createElement(lt,{setFormState:i,formState:l}),u.a.createElement(ct,{setFormState:i,formState:l}),u.a.createElement(it,{setFormState:i,formState:l}),u.a.createElement(ot,{formState:l,setFormState:i}),u.a.createElement(O.g,{spacing:4,my:8},u.a.createElement(M.a,{onClick:function(e){if(e.preventDefault(),t.imageFile&&!l.discardImage||"none"!==l.imageAction||l.description.trim()){var a={articleId:t._id,category:l.category,description:l.description,tags:l.tags,imageAction:l.imageAction};console.log(t),console.log(l),console.log(a),m({variables:a})}else g({title:"Cannot Update Item",description:"Your item must have an image or a description.",status:"warning",duration:5e3,isClosable:!0})},isLoading:d,isDisabled:!l.hasChanges},"Update Item"),u.a.createElement(M.a,{onClick:function(){return i(a)},isDisabled:!l.hasChanges},"Reset Form"),u.a.createElement(mt,{article:t}),u.a.createElement(M.a,{as:j.b,to:"/profile"},"Go Back without Updating")))},ut=function(){var e=Object(w.g)().articleId,t=Object(Be.a)(_e,{variables:{articleId:e}}),a=t.loading,n=t.data,r=(null===n||void 0===n?void 0:n.article)||{};return a?u.a.createElement(O.m,null,u.a.createElement(O.h,null,"View Item"),u.a.createElement(ye.a,{isIndeterminate:!0,size:72})):Q.loggedIn()&&Q.getProfile().data._id===r.owner._id?u.a.createElement(st,{article:r}):u.a.createElement(rt,{article:r})},dt=Object(b.a)({uri:"/graphql"}),gt=Object(y.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(p.a)(Object(p.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),pt=new E.a({link:gt.concat(dt),cache:new f.a});var bt=function(){return u.a.createElement(v.a,null,u.a.createElement(h.a,{client:pt},u.a.createElement(j.a,null,u.a.createElement(u.a.Fragment,null,u.a.createElement(Ze,null,u.a.createElement(se,null),u.a.createElement(O.c,{maxW:"container.lg"},u.a.createElement(w.d,null,u.a.createElement(w.b,{exact:!0,path:"/",component:he}),u.a.createElement(w.b,{exact:!0,path:"/signup",component:X}),u.a.createElement(w.b,{exact:!0,path:"/login",component:ee}),u.a.createElement(w.b,{exact:!0,path:"/profile",component:Ue}),u.a.createElement(w.b,{exact:!0,path:"/profile/:category",component:We}),u.a.createElement(w.b,{exact:!0,path:"/addItem",component:Xe}),u.a.createElement(w.b,{exact:!0,path:"/viewItem/:articleId",component:ut}),u.a.createElement(w.b,{exact:!0,path:"/login",component:ee}),u.a.createElement(w.b,{exact:!0,path:"/signup",component:X}),u.a.createElement(w.b,{render:function(){return u.a.createElement("h1",{className:"display-2"},"Wrong page!")}}))))))))};g.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(bt,null)),document.getElementById("root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.a8ad6686.chunk.js.map