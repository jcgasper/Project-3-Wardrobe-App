{"version":3,"sources":["images/hero-image.jpg","utils/mutations.js","utils/auth.js","components/SignupForm.js","components/LoginForm.js","components/Navbar.js","components/Header.js","pages/Landing.js","utils/firebase.js","utils/imageUploads.js","utils/queries.js","components/ProfileBox.js","components/ProfileCategory.js","components/AddButton.js","pages/FullCategory.js","pages/Profile.js","pages/AddItemForm/CategoryControl.js","pages/AddItemForm/DescriptionControl.js","pages/AddItemForm/TagForm.js","components/FileUploadButton.js","pages/AddItemForm/ImageUploadControls.js","pages/AddItemForm/index.js","utils/clothingContext.js","pages/ViewItem/ViewOthersItem/CategoryControl.js","pages/ViewItem/ViewOthersItem/DescriptionControl.js","pages/ViewItem/ViewOthersItem/TagForm.js","pages/ViewItem/ViewOthersItem/ImageUploadControls.js","pages/ViewItem/ViewOthersItem/index.js","pages/ViewItem/ViewOwnItem/CategoryControl.js","pages/ViewItem/ViewOwnItem/DescriptionControl.js","pages/ViewItem/ViewOwnItem/TagForm.js","pages/ViewItem/ViewOwnItem/ImageUploadControls.js","pages/ViewItem/ViewOwnItem/DeleteButton.js","pages/ViewItem/ViewOwnItem/index.js","pages/ViewItem/index.js","App.js","index.js"],"names":["module","exports","LOGIN_USER","gql","ADD_USER","ADD_TEMP_IMAGE","REMOVE_TEMP_IMAGE","ADD_ARTICLE","UPDATE_ARTICLE","REMOVE_ARTICLE","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","window","location","assign","removeItem","SignupForm","useMutation","addUser","useState","displayname","email","password","userFormData","setUserFormData","showPassword","setShowPassword","toast","useToast","handleInputChange","event","target","name","value","handleFormSubmit","a","preventDefault","trim","title","status","duration","isClosable","console","log","variables","data","user","Auth","login","error","as","minH","align","justify","bg","useColorModeValue","onSubmit","spacing","mx","maxW","py","px","fontSize","textAlign","color","rounded","boxShadow","p","id","isRequired","type","onChange","h","variant","onClick","pt","loadingText","size","_hover","ReactLink","to","LoginForm","chakra","FaUserAlt","FaLock","loginUser","isDisabled","CloseIcon","width","viewBox","xmlns","fill","d","MenuIcon","MenuToggle","toggle","isOpen","display","base","md","MenuItem","children","isLast","pointer","rest","pointerEvents","textColor","MenuLinks","flexBasis","direction","loggedIn","logout","NavBarContainer","props","wrap","w","mb","AppNavbar","setIsOpen","Header","fontFamily","Landing","height","marginTop","backgroundImage","heroImage","backgroundPosition","backgroundSize","flexDir","gap","borderColor","background","borderRadius","colorScheme","border","m","boxSize","fontWeight","FaCloudUploadAlt","FaWifi","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getStorage","validateImageType","imageFile","startsWith","Error","generateFileName","fileExtension","extensionStart","lastIndexOf","undefined","substring","getFileExtension","nanoid","getDownloadURLForImageFile","getDownloadURL","ref","GET_ARTICLE","GET_TEMP_IMAGE_FILE","GET_BY_CATEGORY","ProfileBox","image","desc","onClose","refetchQueries","removeArticle","cancelRef","useRef","imageURL","setImageURL","useEffect","then","borderTop","borderLeft","src","fallbackSrc","fit","alt","templateColumns","pr","icon","aria-label","lineHeight","noOfLines","overflow","leastDestructiveRef","e","articleId","ml","ProfileCategory","category","items","setCurrCategory","categoryName","firstItems","filter","item","index","minW","flexWrap","map","description","_id","key","length","AddButton","useMediaQuery","under768","Button","position","bottom","right","FaPlus","FullCategory","goBack","cursor","my","mt","toLowerCase","Profile","currCategory","useQuery","fetchPolicy","loading","isIndeterminate","clothes","categories","divider","clothing","CategoryControl","formState","setFormState","htmlFor","DescriptionControl","placeholder","maxLength","TagForm","newTag","setNewTag","pb","tags","tag","tagToRemove","includes","FileUploadButton","isLoading","acceptedFileTypes","buttonText","isInvalid","inputProps","inputRef","accept","style","leftIcon","FaFileUpload","current","click","ImageUploadControls","addTempImage","addTempImageLoading","removeTempImage","removeTempImageLoading","isUploading","setIsUploading","getTempImageLoading","getTempImageData","tempImageFile","url","imageUploaded","file","files","uploadFileName","imageRef","uploadBytes","snapshot","downloadURL","filename","maxH","AddItemForm","onCompleted","submitArticle","padding","Link","ClothingContext","createContext","ClothingProvider","userClothing","setUserClothing","Provider","addClothing","forEach","push","ViewOthersItem","article","owner","defaultValue","hasChanges","imageAction","DeleteButton","ViewOwnItem","initialFormState","discardImage","ViewItem","useParams","getProfile","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","ApolloProvider","exact","path","component","render","className","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8ad6686.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/hero-image.ac05986b.jpg\";","import { gql } from '@apollo/client';\n\nexport const LOGIN_USER = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        displayname\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser($email: String!, $password: String!, $displayname: String!) {\n    addUser(email: $email, password: $password, displayname: $displayname) {\n      token\n      user {\n        _id\n        displayname\n      }\n    }\n  }\n`;\n\nexport const ADD_TEMP_IMAGE = gql`\n  mutation addTempImage($filename: String!) {\n    addTempImage(filename: $filename) {\n      _id\n      email\n      displayname\n      password\n      tempImageFile\n    }\n  }\n`;\n\nexport const REMOVE_TEMP_IMAGE = gql`\n  mutation removeTempImage {\n    removeTempImage {\n      _id\n      email\n      displayname\n      password\n      tempImageFile\n    }\n  }\n`;\n\nexport const ADD_ARTICLE = gql`\n  mutation addArticle($category: ArticleCategory!, $description: String, $tags: [String]) {\n    addArticle(category: $category, description: $description, tags: $tags) {\n      _id\n      category\n      description\n      tags\n      imageFile\n    }\n  }\n`;\n\nexport const UPDATE_ARTICLE = gql`\n  mutation updateArticle($articleId: ID!, $category: ArticleCategory, $description: String, $tags: [String], $imageAction: ImageAction) {\n    updateArticle(articleId: $articleId, category: $category, description: $description, tags: $tags, imageAction: $imageAction) {\n      _id\n    }\n  }\n`\nexport const REMOVE_ARTICLE = gql`\n  mutation removeArticle($articleId: ID!) {\n    removeArticle(articleId: $articleId) {\n      description\n      category\n      _id\n    }\n  }\n`;\n","// use this to decode a token and get the user's information out of it\nimport decode from 'jwt-decode';\n\n// create a new class to instantiate for a user\nclass AuthService {\n  // get user data\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  // check if user's logged in\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token); // handwaiving here\n  }\n\n  // check if token is expired\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n    window.location.assign('/profile');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport {\n  Flex,\n  Box,\n  FormControl,\n  FormLabel,\n  Input,\n  InputGroup,\n  HStack,\n  InputRightElement,\n  Stack,\n  Button,\n  Heading,\n  Text,\n  useColorModeValue,\n  Link,\n  useToast\n} from '@chakra-ui/react';\nimport { Link as ReactLink } from 'react-router-dom';\nimport { ViewIcon, ViewOffIcon } from '@chakra-ui/icons';\nimport Auth from '../utils/auth';\n\nconst SignupForm = () => {\n  const [addUser] = useMutation(ADD_USER);\n  // set initial form state\n  const [userFormData, setUserFormData] = useState({ displayname: '', email: '', password: '' });\n  // set state for form validation\n  //const [validated] = useState(false);\n  // set state for alert\n  //const [showAlert, setShowAlert] = useState(false);\n  // set state for password visibility\n\n  const [showPassword, setShowPassword] = useState(false);\n  const toast = useToast();\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!userFormData.displayname.trim() || !userFormData.email.trim() || !userFormData.password.trim()) {\n      toast({\n        title: \"You must enter a display name, email address, password \",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    // check if form has everything (as per react-bootstrap docs)\n    // const form = event.currentTarget;\n    // if (form.checkValidity() === false) {\n    //   event.preventDefault();\n    //   event.stopPropagation();\n    // }\n\n    try {\n      console.log(userFormData)\n      const { data } = await addUser({ variables: userFormData });\n      const { token, user } = data.addUser;\n      console.log(user);\n      Auth.login(token);\n    } catch (err) {\n      console.error(err);\n    }\n\n    setUserFormData({\n      displayname: '',\n      email: '',\n      password: '',\n    });\n  };\n\n  return (\n    <Flex\n      as=\"form\"\n      minH={\"30vh\"}\n      align={\"center\"}\n      justify={\"center\"}\n      bg={useColorModeValue(\"gray.50\", \"gray.800\")}\n      onSubmit={handleFormSubmit}\n    >\n      <Stack spacing={8} mx={'auto'} maxW={'lg'} py={12} px={6}>\n        <Stack align={'center'}>\n          <Heading fontSize={'4xl'} textAlign={'center'}>\n            Sign up\n          </Heading>\n          <Text fontSize={'lg'} color={'gray.600'}>\n            to use MyStyle!\n          </Text>\n        </Stack>\n        <Box\n          rounded={'lg'}\n          bg={useColorModeValue('white', 'gray.700')}\n          boxShadow={'lg'}\n          p={8}>\n          <Stack spacing={4}>\n            <HStack>\n              <Box>\n                <FormControl id=\"displayname\" isRequired>\n                  <FormLabel>Display Name</FormLabel>\n                  <Input\n                    type=\"text\"\n                    onChange={handleInputChange}\n                    value={userFormData.displayname}\n                    name=\"displayname\" />\n                </FormControl>\n              </Box>\n            </HStack>\n            <FormControl id=\"email\" isRequired>\n              <FormLabel>Email address</FormLabel>\n              <Input\n                type=\"email\"\n                onChange={handleInputChange}\n                value={userFormData.email}\n                name=\"email\" />\n            </FormControl>\n            <FormControl id=\"password\" isRequired>\n              <FormLabel>Password</FormLabel>\n              <InputGroup>\n                <Input type={showPassword ? 'text' : 'password'}\n                  onChange={handleInputChange}\n                  value={userFormData.password}\n                  name=\"password\" />\n                <InputRightElement h={'full'}>\n                  <Button\n                    variant={'ghost'}\n                    onClick={() =>\n                      setShowPassword((showPassword) => !showPassword)\n                    }>\n                    {showPassword ? <ViewIcon /> : <ViewOffIcon />}\n                  </Button>\n                </InputRightElement>\n              </InputGroup>\n            </FormControl>\n            <Stack spacing={10} pt={2}>\n              <Button\n                type='submit'\n                loadingText=\"Submitting\"\n                size=\"lg\"\n                bg={'blue.400'}\n                color={'white'}\n                _hover={{\n                  bg: 'blue.500',\n                }}>\n                Sign up\n              </Button>\n            </Stack>\n            <Stack pt={6}>\n              <Text align={'center'}>\n                Already have an account? <Link as={ReactLink} to=\"/login\" color={'blue.400'} >Login</Link>\n              </Text>\n            </Stack>\n          </Stack>\n        </Box>\n      </Stack>\n    </Flex>\n  );\n}\n\nexport default SignupForm;\n","// refactored, need to adjust handleInput/handleForm to use Chakra UI\nimport React, { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { LOGIN_USER } from \"../utils/mutations\";\nimport Auth from \"../utils/auth\";\nimport {\n  Flex,\n  Heading,\n  Input,\n  Button,\n  Stack,\n  chakra,\n  Box,\n  Link,\n  FormControl,\n  Text,\n  FormLabel,\n  useColorModeValue,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { FaUserAlt, FaLock } from \"react-icons/fa\";\n\nconst CFaUserAlt = chakra(FaUserAlt);\nconst CFaLock = chakra(FaLock);\n\nconst LoginForm = () => {\n  const [userFormData, setUserFormData] = useState({ email: \"\", password: \"\" });\n  //const [validated] = useState(false);\n  //const [showAlert, setShowAlert] = useState(false);\n  const [loginUser, {error}] = useMutation(LOGIN_USER);\n  const toast = useToast();\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setUserFormData({ ...userFormData, [name]: value });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    if (!userFormData.email.trim() || !userFormData.password.trim()) {\n      toast({\n        title: \"You must enter a email address and password \",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    try {\n      console.log(userFormData)\n      const { data } = await loginUser({ variables: {email: userFormData.email, password: userFormData.password} });\n      const { token, user } = data.login;\n\n      console.log(user);\n      Auth.login(token);\n    } catch (err) {\n      console.error(error);\n      toast({\n        title: \"Something went wrong with your login credentials!\",\n        status: \"warning\",\n        duration: 5000,\n        isClosable: true,\n      });\n      //setShowAlert(true);\n    }\n\n    setUserFormData({\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  //const [showPassword, setShowPassword] = useState(false);\n\n  //const handleShowClick = () => setShowPassword(!showPassword);\n\n  return (\n    <Flex\n      as=\"form\"\n      minH={\"30vh\"}\n      align={\"center\"}\n      justify={\"center\"}\n      bg={useColorModeValue(\"gray.50\", \"gray.800\")}\n      onSubmit={handleFormSubmit}\n    >\n      <Stack spacing={8} mx={\"auto\"} maxW={\"lg\"} py={12} px={6}>\n        <Stack align={\"center\"}>\n          <Heading fontSize={\"4xl\"}>Sign in to your MyStyle account!</Heading>\n          <Text fontSize={\"lg\"} color={\"gray.600\"}>\n            to enjoy all of our cool <Link color={\"blue.400\"}>features</Link> ✌️\n          </Text>\n        </Stack>\n        <Box\n          rounded={\"lg\"}\n          bg={useColorModeValue(\"white\", \"gray.700\")}\n          boxShadow={\"lg\"}\n          p={8}\n        >\n          <Stack spacing={4}>\n            <FormControl id=\"email\">\n              <FormLabel>Email address</FormLabel>\n              <Input\n                type=\"email\"\n                onChange={handleInputChange}\n                value={userFormData.email}\n                name=\"email\"\n              />\n            </FormControl>\n            <FormControl id=\"password\">\n              <FormLabel>Password</FormLabel>\n              <Input\n                type=\"password\"\n                onChange={handleInputChange}\n                value={userFormData.password}\n                name=\"password\"\n              />\n            </FormControl>\n            <Button\n              type=\"submit\"\n              isDisabled={!(userFormData.email && userFormData.password)}\n              bg={\"blue.400\"}\n              color={\"white\"}\n              _hover={{\n                bg: \"blue.500\",\n              }}\n            >\n              Sign in\n            </Button>\n          </Stack>\n        </Box>\n      </Stack>\n    </Flex>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport { Link as ReactLink } from 'react-router-dom';\nimport SignUpForm from './SignupForm';\nimport LoginForm from './LoginForm';\nimport Auth from '../utils/auth';\nimport { Link, Box, Flex, Text, Button, Stack, Container } from \"@chakra-ui/react\";\n\n//import Logo from \"./Logo\";\n\n\nconst AppNavbar = (props) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const loggedIn = Auth.loggedIn();\n    const toggle = () => setIsOpen(!isOpen);\n  \n    return (\n      <NavBarContainer {...props} bg='pink.100'>\n        <Container maxW='container.lg' display='flex' justify='center'>\n        {/* <Logo\n          w=\"100px\"\n          color={[\"white\", \"white\", \"primary.500\", \"primary.500\"]}\n        /> */}\n        <MenuToggle toggle={toggle} isOpen={isOpen} />\n        <MenuLinks isOpen={isOpen} />\n        </Container>\n      </NavBarContainer>\n    );\n  };\n  \n  const CloseIcon = () => (\n    <svg width=\"24\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\">\n      <title>Close</title>\n      <path\n        fill=\"white\"\n        d=\"M9.00023 7.58599L13.9502 2.63599L15.3642 4.04999L10.4142 8.99999L15.3642 13.95L13.9502 15.364L9.00023 10.414L4.05023 15.364L2.63623 13.95L7.58623 8.99999L2.63623 4.04999L4.05023 2.63599L9.00023 7.58599Z\"\n      />\n    </svg>\n  );\n  \n  const MenuIcon = () => (\n    <svg\n      width=\"24px\"\n      viewBox=\"0 0 20 20\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"white\"\n    >\n      <title>Menu</title>\n      <path d=\"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z\" />\n    </svg>\n  );\n  \n  const MenuToggle = ({ toggle, isOpen }) => {\n    return (\n      <Box display={{ base: \"block\", md: \"none\" }} onClick={toggle}>\n        {isOpen ? <CloseIcon /> : <MenuIcon />}\n      </Box>\n    );\n  };\n  \n  const MenuItem = ({ children, isLast, to = \"/\", pointer, ...rest }) => {\n    return (\n      <Link as={ReactLink} to={to} pointerEvents={pointer}>\n        <Text display=\"block\" {...rest} textColor='pink.800'  fontSize='lg'>\n          {children}\n        </Text>\n      </Link>\n    );\n  };\n  \n  const MenuLinks = ({ isOpen }) => {\n    return (\n      <Box\n        display={{ base: isOpen ? \"block\" : \"none\", md: \"block\" }}\n        flexBasis={{ base: \"100%\", md: \"auto\" }}\n      >\n        <Stack\n          spacing={8}\n          align=\"center\"\n          justify={[\"center\", \"space-between\", \"flex-end\", \"flex-end\"]}\n          direction={[\"column\", \"row\", \"row\", \"row\"]}\n          pt={[4, 4, 0, 0]}\n        >\n          <MenuItem to=\"/\">Home</MenuItem>\n          <MenuItem to=\"/profile\" pointer={Auth.loggedIn() ? 'auto' : 'none'}>My Wardrobe </MenuItem>\n          <MenuItem to=\"/addItem\" pointer={Auth.loggedIn() ? 'auto' : 'none'}>Add Item </MenuItem>\n          {(!Auth.loggedIn()) ? \n          <>\n            <MenuItem to=\"/login\" pointer='auto'>\n            <Button\n              size=\"sm\"\n              rounded=\"md\"\n              color={[\"primary.500\", \"primary.500\", \"pink.800\", \"pink.800\"]}\n              bg={[\"white\", \"white\", \"primary.500\", \"primary.500\"]}\n              _hover={{\n                bg: [\"primary.100\", \"primary.100\", \"primary.600\", \"primary.600\"]\n              }}\n              fontSize='lg'\n            >\n              Login\n            </Button>\n          </MenuItem>\n          <MenuItem to=\"/signup\" pointer='auto' isLast>\n          <Button\n            size=\"sm\"\n            rounded=\"md\"\n            color={[\"primary.500\", \"primary.500\", \"pink.800\", \"pink.800\"]}\n            bg={[\"white\", \"white\", \"primary.500\", \"primary.500\"]}\n            _hover={{\n              bg: [\"primary.100\", \"primary.100\", \"primary.600\", \"primary.600\"]\n            }}\n            fontSize='lg'\n          >\n            Signup\n          </Button>\n        </MenuItem>\n          </>\n           :\n          <MenuItem pointer='auto' isLast>\n            <Button\n          size=\"sm\"\n          rounded=\"md\"\n          color={[\"primary.500\", \"primary.500\", \"pink.800\", \"pink.800\"]}\n          bg={[\"white\", \"white\", \"primary.500\", \"primary.500\"]}\n          _hover={{\n            bg: [\"primary.100\", \"primary.100\", \"primary.600\", \"primary.600\"]\n          }}\n          fontSize='lg'\n          onClick={() => Auth.logout()}\n        >\n          Logout\n        </Button>\n          </MenuItem>\n          \n          }\n        </Stack>\n      </Box>\n    );\n  };\n  \n  const NavBarContainer = ({ children, ...props }) => {\n    return (\n      <Flex\n        as=\"nav\"\n        align=\"center\"\n        justify=\"space-between\"\n        wrap=\"wrap\"\n        w=\"100%\"\n        mb={8}\n        p={8}\n        bg={[\"primary.500\", \"primary.500\", \"transparent\", \"transparent\"]}\n        color={[\"white\", \"white\", \"primary.700\", \"primary.700\"]}\n        {...props}\n      >\n        {children}\n      </Flex>\n    );\n  };\n\nexport default AppNavbar;\n\n","import React from 'react';\r\nimport { Link as ReactLink } from 'react-router-dom';\r\nimport { Heading, VStack } from '@chakra-ui/react';\r\nimport AppNavbar from './Navbar';\r\n\r\nfunction Header() {\r\n    return (\r\n        <VStack spacing={5}>\r\n            <AppNavbar />\r\n            <ReactLink to={`/`}>\r\n                <Heading fontFamily='Pacifico' textAlign='center' fontSize='64px' textColor='pink.500'>MyStyle</Heading>\r\n            </ReactLink>\r\n        </VStack>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\nimport {Link as ReactLink} from 'react-router-dom';\nimport { VStack, Box, Heading, Flex, Button, Stack, Icon } from '@chakra-ui/react';\nimport heroImage from '../images/hero-image.jpg';\nimport { FaCloudUploadAlt, FaWifi } from 'react-icons/fa'\n\nfunction Landing() {\n    return (\n        <VStack maxW='container.lg' spacing={10} mb={20}>\n            <Box w='full' height='25rem' marginTop='5em' backgroundImage={heroImage} backgroundPosition='center' backgroundSize='cover'>\n                <Flex px={4} w='full' height='full' justify='center' align='center' flexDir='column' gap={5}>\n                    <Heading p={5} bg='gray.50' textColor='pink.500'>Build your online wardrobe</Heading>\n                    <Box display='flex' justify='space-between' gap={8}>\n                        <Button variant='outline' textColor='pink.50' borderColor='pink.50' _hover={{background: 'pink.500',borderColor: 'pink.500'}} as={ReactLink} to='/login' borderRadius='0' size='lg'>Login</Button>\n                        <Button as={ReactLink} to='/signup' borderRadius='0' size='lg' colorScheme='pink' textColor='gray.50'>Sign Up</Button>\n                    </Box>\n                </Flex>\n            </Box>\n            <Stack direction={['column','row']} justify='space-around' align='stretch' w='full' >\n                <Box boxShadow='md' border='1px' borderColor='gray.200' w='200px' bg='pink.50'>\n                    <VStack spacing={8}>\n                        <Box m={3} p={2} bg='pink.500' borderRadius='full' boxSize={10} textAlign='center' boxShadow='md' textColor='white' fontWeight='bold' >\n                            1\n                        </Box>\n                        <Box p={3}>\n                            Create your account\n                        </Box>\n                        <Box p={3}>\n                            <Button colorScheme='pink' borderRadius={0} as={ReactLink} to='/signup'>Click here!</Button>\n                        </Box>\n                    </VStack>\n                </Box>\n                <Box boxShadow='md' border='1px' borderColor='gray.200' w='200px' bg='pink.50'>\n                    <VStack spacing={8}>\n                        <Box m={3} p={2} bg='pink.500' borderRadius='full' boxSize={10} textAlign='center' boxShadow='md' textColor='white' fontWeight='bold' >\n                            2\n                        </Box>\n                        <Box p={3}>\n                            Upload your clothes\n                        </Box>\n                        <Box p={3}>\n                            <Icon as={FaCloudUploadAlt} boxSize={10} textColor='pink.500' />\n                        </Box>\n                    </VStack>\n                </Box>\n                <Box boxShadow='md' border='1px' borderColor='gray.200' w='200px' bg='pink.50'>\n                    <VStack spacing={8}>\n                        <Box m={3} p={2} bg='pink.500' borderRadius='full' boxSize={10} textAlign='center' boxShadow='md' textColor='white' fontWeight='bold' >\n                            3\n                        </Box>\n                        <Box p={3}>\n                            View it all online\n                        </Box>\n                        <Box p={3}>\n                            <Icon as={FaWifi} boxSize={10} textColor='pink.500' />\n                        </Box>\n                    </VStack>\n                </Box>\n            </Stack>\n        </VStack>\n    )\n}\n\nexport default Landing;","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\nimport { getStorage } from \"firebase/storage\";\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDF4HwSEpqS1e8XHRg8S4omGzXjhVW4dL0\",\n  authDomain: \"mystyle-33b1c.firebaseapp.com\",\n  projectId: \"mystyle-33b1c\",\n  storageBucket: \"mystyle-33b1c.appspot.com\",\n  messagingSenderId: \"109829470130\",\n  appId: \"1:109829470130:web:b04d66cc7ff28fc4cbd6ab\",\n  measurementId: \"G-2NMGHGS1RN\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n//const analytics = getAnalytics(app);\n\nexport const storage = getStorage(app);","import { getDownloadURL, ref } from 'firebase/storage';\nimport { nanoid } from 'nanoid';\nimport { storage } from './firebase';\n\nexport const DEFAULT_IMAGE_LOCATION = \"/no_image_uploaded.png\";\n\nexport function validateImageType(imageFile) {\n  if (imageFile?.type?.startsWith('image')) {\n    return true;\n  } else {\n    throw new Error('Not a valid image file.') ;\n  }\n}\n\nexport function generateFileName(imageFile) {\n  const fileExtension = getFileExtension(imageFile);\n  return nanoid() + fileExtension;\n}\n\nfunction getFileExtension(imageFile) {\n  const extensionStart = imageFile?.name?.lastIndexOf('.');\n  if (extensionStart === -1 || extensionStart === undefined) {\n    throw new Error('Image file does not have a file extension.');\n  }\n  return imageFile.name.substring(extensionStart);\n}\n\nexport async function getDownloadURLForImageFile(imageFile) {\n  if (!imageFile) return DEFAULT_IMAGE_LOCATION;\n  return await getDownloadURL(ref(storage, imageFile));\n}","import { gql } from '@apollo/client';\n\nexport const GET_ME = gql`\n  query me {\n    me {\n      _id\n      email\n      displayname\n      tempImageFile\n      clothing {\n        _id\n        category\n        description\n        tags\n        imageFile\n      }\n    }\n  }\n`;\n\nexport const GET_ARTICLE = gql`\n  query article($articleId: ID!) {\n    article(articleId: $articleId) {\n      _id\n      category\n      description\n      tags\n      imageFile\n      owner {\n        _id\n        displayname\n      }\n    }\n  }\n`;\n\nexport const GET_TEMP_IMAGE_FILE = gql`\n  query getTempImageFile {\n    me {\n      tempImageFile\n    }\n  }\n`;\n\nexport const GET_BY_CATEGORY = gql`\n  query categories {\n    categories{\n      category\n      clothing {\n        description\n        imageFile\n        _id\n      }\n    }\n  }  \n`;","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link as ReactLink } from 'react-router-dom';\r\nimport { \r\n    Box, \r\n    Text, \r\n    Image, \r\n    Button,\r\n    AlertDialog,\r\n    AlertDialogBody,\r\n    AlertDialogFooter,\r\n    AlertDialogHeader,\r\n    AlertDialogContent,\r\n    AlertDialogOverlay, \r\n    IconButton,\r\n    Grid,\r\n    GridItem } from '@chakra-ui/react';\r\nimport { FaTrashAlt } from 'react-icons/fa';\r\nimport { useMutation } from \"@apollo/client\";\r\nimport { getDownloadURLForImageFile } from '../utils/imageUploads';\r\nimport { REMOVE_ARTICLE } from '../utils/mutations';\r\nimport { GET_BY_CATEGORY } from '../utils/queries';\r\n\r\nfunction ProfileBox({image, desc, id}) {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const onClose = () => {\r\n        setIsOpen(false)\r\n    }\r\n\r\n    const [removeArticle] = useMutation(REMOVE_ARTICLE, {\r\n      refetchQueries: [\r\n        GET_BY_CATEGORY\r\n      ]\r\n    });\r\n\r\n    const handleDelete = (e) => {\r\n        e.preventDefault();\r\n        removeArticle({\r\n          variables: {articleId: id}\r\n        })\r\n        onClose();\r\n    }\r\n\r\n    const cancelRef = useRef()\r\n    \r\n    const [imageURL, setImageURL] = useState('');\r\n    useEffect(() => { getDownloadURLForImageFile(image).then(setImageURL) }, [image]);\r\n\r\n    return (\r\n        <>\r\n        <Box p={0} bg='pink.50' boxShadow=\"md\" borderTop=\"1px\" borderLeft=\"1px\" borderColor=\"gray.200\" maxW='210px'>\r\n          \r\n          <ReactLink to={`/viewItem/${id}`}>\r\n            <Image src={imageURL} fallbackSrc='https://via.placeholder.com/210x280?text=Loading...' w='210px' h='280px' fit='cover' alt={desc} />\r\n          </ReactLink>\r\n          \r\n          <Grid templateColumns='1fr minMax(150px, 1fr)' pr={2} gap={2} maxW='160px'>\r\n            <GridItem>\r\n              <IconButton borderRadius='0' size='sm' icon={<FaTrashAlt />} aria-label='delete item' colorScheme='pink' onClick={() => setIsOpen(true)} />\r\n            </GridItem>\r\n            \r\n            <GridItem display=''>\r\n              <Text lineHeight='2em' noOfLines={1} as={ReactLink} to={`/viewItem/${id}`} overflow='clip' textColor='#000022'>{(desc) ? `${desc}` : ' '}</Text>\r\n            </GridItem>\r\n              \r\n          </Grid>\r\n        </Box>\r\n        <AlertDialog isOpen={isOpen} leastDestructiveRef={cancelRef} onClose={onClose} >\r\n        <AlertDialogOverlay>\r\n          <AlertDialogContent>\r\n            <AlertDialogHeader fontSize='lg' fontWeight='bold'>\r\n              Delete Article of Clothing\r\n            </AlertDialogHeader>\r\n\r\n            <AlertDialogBody>\r\n              Are you sure you want to delete {(desc) ? `your ${desc}?` : `this item?`}\r\n            </AlertDialogBody>\r\n\r\n            <AlertDialogFooter>\r\n              <Button borderRadius='0' ref={cancelRef} onClick={onClose}>\r\n                Cancel\r\n              </Button>\r\n              <Button borderRadius='0' bg='red.400' onClick={handleDelete} ml={3}>\r\n                Delete\r\n              </Button>\r\n            </AlertDialogFooter>\r\n          </AlertDialogContent>\r\n        </AlertDialogOverlay>\r\n      </AlertDialog>\r\n        </>\r\n        \r\n    )\r\n}\r\n\r\nexport default ProfileBox;","import React from 'react';\r\nimport { Box, Heading, Flex, Button } from '@chakra-ui/react';\r\nimport ProfileBox from './ProfileBox';\r\n\r\nfunction ProfileCategory({category, items, setCurrCategory}) {\r\n\r\n    const categoryName = (category === 'Top' || category === 'Bottom') ? category + 's' : (category === 'Accessory') ? 'Accessories' : category;\r\n\r\n    const firstItems = items.filter((item, index) => index < 4);\r\n\r\n    const goToFull = () => {\r\n        setCurrCategory(category);\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Box width='full' py={4} >\r\n            <Heading textColor='pink.500' as=\"h2\" size=\"xl\">{categoryName}</Heading>\r\n            <Flex justify='start' align='start' minW='full' gap='38px' flexWrap='wrap' marginTop={8}>\r\n                {firstItems.map((item) => {\r\n                    return <ProfileBox image={item.imageFile} desc={item.description} id={item._id} key={item._id} />\r\n                })}\r\n            </Flex>\r\n             \r\n            <Flex display={(items.length > 4) ? 'flex' : 'none'} justify='start' marginTop={8}>\r\n                <Button borderRadius='0' colorScheme='pink' onClick={goToFull}>More</Button>\r\n            </Flex> \r\n        </Box>        \r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default ProfileCategory;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Flex, Icon, Button, useMediaQuery } from '@chakra-ui/react';\r\nimport { FaPlus } from 'react-icons/fa';\r\n\r\nfunction AddButton() {\r\n\r\n    const [under768] = useMediaQuery('(max-width: 768px)');\r\n\r\n    return (\r\n        <Link to={`/addItem`}>\r\n            <Flex display={under768 ? 'flex' : 'none'} boxShadow=\"md\" colorScheme='pink' as={Button} justify='center' align='center' position='fixed' bottom='50px' right='50px' boxSize={12} borderRadius='full'>\r\n                <Icon boxSize={8} as={FaPlus} />\r\n            </Flex>\r\n        </Link>\r\n        \r\n    )\r\n}\r\n\r\nexport default AddButton;","import React from 'react';\r\nimport { Heading, Flex, Text, Box } from '@chakra-ui/react';\r\nimport ProfileBox from '../components/ProfileBox';\r\nimport AddButton from '../components/AddButton';\r\n\r\nfunction FullCategory({category, items, setCurrCategory}) {\r\n\r\n    const categoryName = (category === 'Top' || category === 'Bottom') ? category + 's' : (category === 'Accessory') ? 'Accessories' : category;\r\n\r\n    const goBack = () => {\r\n        setCurrCategory(null);\r\n    }\r\n\r\n    //if no items, say they don't have any articles in there\r\n    if(!items.length) {\r\n        return (\r\n        <>\r\n            <Heading mt={10}>You haven't added any {categoryName.toLowerCase()}</Heading>\r\n            <Text onClick={goBack} cursor='pointer'>&#8592;  Back to Profile</Text>\r\n        </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Box minW='full'>\r\n            \r\n            <Heading as='h1' textColor='pink.500' marginTop={8}>Your {categoryName}</Heading>\r\n            <Text onClick={goBack} cursor='pointer'>&#8592;  Back to Profile</Text>\r\n            <Flex justify='start' flexWrap='wrap' gap={6} my={4}>\r\n                {items.map((item) => {\r\n                    return <ProfileBox image={item.imageFile} desc={item.description} id={item._id} key={item._id} />\r\n                })}\r\n            </Flex>\r\n            <Text onClick={goBack} cursor='pointer'>&#8592;  Back to Profile</Text>\r\n            <AddButton />\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default FullCategory;","import React, { useState } from 'react';\r\nimport { VStack, StackDivider, Heading, Progress } from '@chakra-ui/react';\r\nimport ProfileCategory from '../components/ProfileCategory';\r\nimport FullCategory from './FullCategory';\r\nimport AddButton from '../components/AddButton';\r\nimport { useQuery } from '@apollo/client';\r\nimport { GET_BY_CATEGORY } from '../utils/queries';\r\nimport Auth from '../utils/auth';\r\n\r\nfunction Profile() {\r\n\r\n    //make sure user is logged in first\r\n    if(!Auth.loggedIn()) {\r\n        window.location.assign('/');\r\n    }\r\n\r\n    const [currCategory, setCurrCategory] = useState();\r\n\r\n    const {loading, data} = useQuery(GET_BY_CATEGORY, {\r\n        fetchPolicy: 'cache-and-network'\r\n    });\r\n\r\n    if(loading) {\r\n        return (\r\n        <>\r\n            <Heading mt={10}>Searching Narnia...</Heading>\r\n            <Progress colorScheme='pink' size='sm' isIndeterminate />\r\n        </>\r\n        )\r\n    }\r\n\r\n    const clothes = data?.categories || [];\r\n\r\n    return (\r\n        <>\r\n        <VStack spacing={5} p={4} divider={<StackDivider borderColor='gray.300' />}>\r\n           {(!clothes.length) ? <Heading>You've got no clothes! Why don't you add some?</Heading> : (!currCategory) ? clothes.map((item, index) => {\r\n               return (<ProfileCategory category={item.category} items={item.clothing} key={index} setCurrCategory={setCurrCategory} />)\r\n           }) : clothes.map((item, index) => {\r\n               if(item.category === currCategory) {\r\n                   return (<FullCategory category={item.category} items={item.clothing} key={index} setCurrCategory={setCurrCategory} />)\r\n               }\r\n           } )}\r\n        </VStack>\r\n        <AddButton />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Profile;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Select,\n} from \"@chakra-ui/react\";\n\nconst CategoryControl = ({ formState, setFormState }) => {\n  return (\n    <FormControl isRequired>\n      <FormLabel htmlFor=\"type\">Item Category</FormLabel>\n      <Select id=\"type\" w={200} onChange={(e) => setFormState({ ...formState, category: e.target.value })}>\n        <option>Top</option>\n        <option>Bottom</option>\n        <option>Outerwear</option>\n        <option>Footwear</option>\n        <option>Accessory</option>\n      </Select>\n    </FormControl>\n  );\n}\n\nexport default CategoryControl;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Input,\n} from \"@chakra-ui/react\";\n\nconst DescriptionControl = ({ formState, setFormState }) => {\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"description\">Description</FormLabel>\n      <Input\n        id=\"description\"\n        placeholder=\"Type a description of your item (optional)\"\n        value={formState.description}\n        onChange={(e) => setFormState({ ...formState, description: e.target.value })}\n        maxLength=\"100\"\n      />\n    </FormControl>\n  );\n}\n\nexport default DescriptionControl;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Box,\n  Text,\n  HStack,\n  Tag,\n  TagLabel,\n  TagCloseButton,\n  Input,\n  Stack,\n  Button,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { useState } from 'react';\n\nconst TagForm = ({ formState, setFormState }) => {\n  const [newTag, setNewTag] = useState(\"\");\n  const toast = useToast();\n\n  const addTagHandler = (event) => {\n    event.preventDefault();\n    if (!newTag) return;\n    if (formState.tags.includes(newTag.trim())) {\n      toast({\n        title: \"Tag already exists\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    setFormState({ ...formState, tags: [...formState.tags, newTag.trim()] });\n    setNewTag(\"\");\n  };\n\n  const removeTag = (tagToRemove) => {\n    setFormState({ ...formState, tags: formState.tags.filter((tag) => tag !== tagToRemove) });\n  };\n\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"tags\">Tags</FormLabel>\n      <Box minH={3} pb={1}>\n        {formState.tags.length === 0 ? (\n          <Text>\n            No tags yet. Type a note to tag below and hit enter or the button\n            to add one.\n          </Text>\n        ) : (\n          <HStack>\n            {formState.tags.map((tag) => (\n              <Tag key={tag}>\n                <TagLabel>{tag}</TagLabel>\n                <TagCloseButton onClick={(e) => removeTag(tag)} />\n              </Tag>\n            ))}\n          </HStack>\n        )}\n      </Box>\n      <Stack\n        as=\"form\"\n        name=\"tagForm\"\n        onSubmit={addTagHandler}\n        direction={[\"column\", \"row\"]}\n      >\n        <Input\n          id=\"newTag\"\n          placeholder='\"Size M\", \"Brown\", \"Polo shirt\", \"Gucci\", etc.'\n          value={newTag}\n          onChange={(e) => setNewTag(e.target.value)}\n        />\n        <Button id=\"addNewTagButton\" type=\"submit\">\n          Add New Tag\n        </Button>\n      </Stack>\n    </FormControl>\n  );\n\n}\n\nexport default TagForm;","// based on code from https://github.com/chakra-ui/chakra-ui/issues/457#issuecomment-790826877\nimport React from 'react';\nimport { InputGroup, Icon, Button } from \"@chakra-ui/react\";\nimport { FaFileUpload } from \"react-icons/fa\";\nimport { useRef } from \"react\";\n\nconst FileUploadButton = ({ name, isLoading, placeholder, acceptedFileTypes, children, buttonText, isInvalid = false, isRequired = false, onChange, ...inputProps }) => {\n  const inputRef = useRef();\n\n  return (\n    <InputGroup>\n      <input type='file' accept={acceptedFileTypes} name={name} ref={inputRef} {...inputProps} onChange={onChange} style={{ display: 'none' }}></input>\n      <Button isLoading={isLoading} leftIcon={<Icon as={FaFileUpload} />} onClick={() => inputRef.current.click()}>{children || \"Click here ...\"}</Button>\n    </InputGroup>\n  );\n}\n\nexport default FileUploadButton;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Box,\n  useToast,\n  IconButton,\n  Image,\n  ButtonGroup,\n  Spinner,\n  Center,\n} from \"@chakra-ui/react\";\nimport { useState } from 'react';\nimport FileUploadButton from '../../components/FileUploadButton';\nimport { FaTrash } from 'react-icons/fa';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { ADD_TEMP_IMAGE, REMOVE_TEMP_IMAGE } from '../../utils/mutations';\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from '../../utils/firebase';\nimport { DEFAULT_IMAGE_LOCATION, generateFileName, getDownloadURLForImageFile, validateImageType } from '../../utils/imageUploads';\nimport { GET_TEMP_IMAGE_FILE } from '../../utils/queries';\n\n\n\nconst ImageUploadControls = ({ formState, setFormState }) => {\n  const [addTempImage, { loading: addTempImageLoading }] = useMutation(ADD_TEMP_IMAGE);\n  const [removeTempImage, { loading: removeTempImageLoading }] = useMutation(REMOVE_TEMP_IMAGE);\n  const [isUploading, setIsUploading] = useState(false);\n  const [imageURL, setImageURL] = useState(DEFAULT_IMAGE_LOCATION);\n  const { loading: getTempImageLoading, data: getTempImageData } = useQuery(GET_TEMP_IMAGE_FILE);\n  const toast = useToast();\n\n  if (getTempImageData?.tempImageFile && !(imageURL.includes(getTempImageData.tempImageFile))) {\n    getDownloadURLForImageFile(getTempImageData.tempImageFile)\n      .then(url => {\n        setFormState({ ...formState, imageUploaded: true })\n        setImageURL(url);\n      });\n  }\n\n\n  const fileUploadHandler = (event) => {\n    const file = event.target.files[0];\n    if (!file) {\n      return;\n    }\n\n    try {\n      // upload to firebase\n      validateImageType(file);\n      const uploadFileName = generateFileName(file);\n      const imageRef = ref(storage, uploadFileName);\n      setIsUploading(true);\n      uploadBytes(imageRef, file)\n        .then(snapshot => getDownloadURL(snapshot.ref))\n        .then(downloadURL => {\n          addTempImage({ variables: { filename: uploadFileName } });\n          setIsUploading(false);\n          setImageURL(downloadURL);\n          setFormState({ ...formState, imageUploaded: true });\n        })\n    } catch (error) {\n      console.error(error);\n      toast({\n        title: \"The file you selected wasn't a valid image file!\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true\n      });\n    }\n  }\n\n  const discardImageHandler = () => {\n    removeTempImage();\n    setImageURL(DEFAULT_IMAGE_LOCATION);\n    setFormState({ ...formState, imageUploaded: false });\n  };\n\n  return (\n    <Box>\n      <FormControl mb={1}>\n        <FormLabel htmlFor=\"fileUpload\">Picture</FormLabel>\n        <ButtonGroup>\n          <FileUploadButton\n            placeholder=\"Click here\"\n            acceptedFileTypes=\".jpg, .jpeg, .png, .gif, .bmp\"\n            name=\"fileUpload\"\n            onChange={fileUploadHandler}\n            isLoading={isUploading || addTempImageLoading}\n          >Click to Upload</FileUploadButton>\n\n          <IconButton aria-label='Discard Image' isLoading={removeTempImageLoading} icon={<FaTrash />} isDisabled={imageURL === DEFAULT_IMAGE_LOCATION} onClick={discardImageHandler} />\n        </ButtonGroup>\n      </FormControl>\n      {\n        (isUploading || addTempImageLoading || removeTempImageLoading || getTempImageLoading)\n          ?\n          <Center w=\"320px\" h=\"512px\" border={1} boxShadow=\"md\">\n            <Spinner size='xl' />\n          </Center>\n          :\n          <Image maxH=\"512px\" border={1} boxShadow=\"md\" src={imageURL} />\n      }\n\n    </Box>\n  );\n\n}\n\nexport default ImageUploadControls;","import React from \"react\";\nimport { VStack, HStack, Heading, Button, useToast } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport Auth from '../../utils/auth';\nimport { Redirect, Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { ADD_ARTICLE } from '../../utils/mutations';\nimport CategoryControl from './CategoryControl';\nimport DescriptionControl from './DescriptionControl';\nimport TagForm from './TagForm';\nimport ImageUploadControls from './ImageUploadControls';\n\n\nconst AddItemForm = () => {\n  const [formState, setFormState] = useState(\n    {\n      description: \"\",\n      category: \"Top\",\n      tags: [],\n      imageUploaded: false\n    }\n  );\n  const [submitArticle, { loading }] = useMutation(ADD_ARTICLE, { onCompleted: () => { window.location.assign('/profile'); } });\n  const toast = useToast();\n\n  if (!Auth.loggedIn()) {\n    return <Redirect to=\"/\" />;\n  }\n\n  // if (called && !loading) {\n  //   return <Redirect to=\"/profile\" />;\n  // }\n  \n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!(formState.imageUploaded || formState.description.trim())) {\n      toast({\n        title: 'Cannot Add Item',\n        description: \"You need to upload an image or enter a description.\",\n        status: 'warning',\n        duration: 5000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    submitArticle({\n      variables: {\n        category: formState.category,\n        description: formState.description,\n        tags: formState.tags\n      }\n    });\n  };\n\n  return (\n    <VStack padding={4} spacing={6} align=\"stretch\" mb={10}>\n      <Heading>Add Item to Your Wardrobe</Heading>\n\n      <CategoryControl setFormState={setFormState} formState={formState} />\n\n      <ImageUploadControls setFormState={setFormState} formState={formState} />\n\n      <DescriptionControl setFormState={setFormState} formState={formState} />\n\n      <TagForm formState={formState} setFormState={setFormState} />\n\n      <HStack spacing={4}>\n        <Button my={8} onClick={handleSubmit} isLoading={loading}>\n          Register New Item\n        </Button>\n        <Button as={Link} to=\"/profile\">Go Back</Button>\n      </HStack>\n    </VStack>\n  );\n};\n\nexport default AddItemForm;\n","import React, { useContext, createContext, useState } from 'react';\r\n\r\nconst ClothingContext = createContext();\r\n\r\nexport const useClothingContext = () => useContext(ClothingContext);\r\n\r\nexport const ClothingProvider = ({children}) => {\r\n\r\n    const [userClothing, setUserClothing] = useState([]);\r\n\r\n    const addClothing = (clothing) => {\r\n\r\n        setUserClothing(clothing);\r\n        //set up array of each category\r\n        const categories = [\r\n            {\r\n                type: 'tops',\r\n                items: []\r\n            },\r\n            {\r\n                type: 'bottoms',\r\n                items: []\r\n            },\r\n            {\r\n                type: 'outerwear',\r\n                items: []\r\n            },\r\n            {\r\n                type: 'accessories',\r\n                items: []\r\n            },\r\n            {\r\n                type: 'footwear',\r\n                items: []\r\n            },\r\n        ]\r\n\r\n        //iterate through and assign each article to a category\r\n        clothing.forEach(item => {\r\n            switch(item.category.toLowerCase()) {\r\n                case 'top':\r\n                    categories[0].items.push(item);\r\n                    break;\r\n                case 'bottom':\r\n                    categories[1].items.push(item);\r\n                    break;\r\n                case 'outerwear':\r\n                    categories[2].items.push(item);\r\n                    break;\r\n                case 'accessory':\r\n                    categories[3].items.push(item);\r\n                    break;\r\n                case 'footwear':\r\n                    categories[4].items.push(item);\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n        });\r\n        //set state of all clothes broken down by category\r\n        setUserClothing(categories);\r\n    }\r\n\r\n    return (\r\n        <ClothingContext.Provider value={{userClothing, addClothing}}>\r\n            {children}\r\n        </ClothingContext.Provider>\r\n    );\r\n};","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Text,\n} from \"@chakra-ui/react\";\n\nconst CategoryControl = ({ category }) => {\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"category\">Item Category</FormLabel>\n      <Text id=\"category\">{category}</Text>\n    </FormControl>\n  );\n}\n\nexport default CategoryControl;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Text\n} from \"@chakra-ui/react\";\n\nconst DescriptionControl = ({ description }) => {\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"description\">Description</FormLabel>\n      <Text>{description}</Text>\n    </FormControl>\n  );\n}\n\nexport default DescriptionControl;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Box,\n  HStack,\n  Tag,\n  TagLabel\n} from \"@chakra-ui/react\";\n\nconst TagForm = ({ tags }) => {\n\n\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"tags\">Tags</FormLabel>\n      <Box minH={3} pb={1}>\n        <HStack>\n          {tags.map((tag) => (\n            <Tag key={tag}>\n              <TagLabel>{tag}</TagLabel>\n            </Tag>\n          ))}\n        </HStack>\n      </Box>\n    </FormControl>\n  );\n\n}\n\nexport default TagForm;","import React, { useEffect } from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Box,\n  Image,\n  Spinner,\n  Center,\n} from \"@chakra-ui/react\";\nimport { useState } from 'react';\nimport { getDownloadURLForImageFile } from '../../../utils/imageUploads';\n\n\n\nconst ImageUploadControls = ({ imageFile }) => {\n  const [imageURL, setImageURL] = useState('');\n  useEffect(() => { getDownloadURLForImageFile(imageFile).then(setImageURL) }, [imageFile]);\n\n\n  return (\n    <Box>\n      <FormControl mb={1}>\n        <FormLabel>Picture</FormLabel>\n      </FormControl>\n      {\n        (!imageURL)\n          ?\n          <Center w=\"320px\" h=\"512px\" border={1} boxShadow=\"md\">\n            <Spinner size='xl' />\n          </Center>\n          :\n          <Image maxH=\"512px\" border={1} boxShadow=\"md\" src={imageURL} />\n      }\n\n    </Box>\n  );\n}\n\nexport default ImageUploadControls;","import React from \"react\";\nimport { VStack, Heading } from \"@chakra-ui/react\";\nimport CategoryControl from './CategoryControl';\nimport DescriptionControl from './DescriptionControl';\nimport TagForm from './TagForm';\nimport ImageUploadControls from './ImageUploadControls';\n\n\nconst ViewOthersItem = ({article}) => {\n\n  const {category, description, imageFile, tags, owner: {displayname}} = article;\n\n  return (\n    <VStack padding={4} spacing={6} align=\"stretch\" mb={10}>\n      <Heading>Item from {displayname}'s Wardrobe</Heading>\n\n      <CategoryControl category={category} />\n\n      {(imageFile ? <ImageUploadControls imageFile={imageFile} /> : '')} \n\n      {(description ? <DescriptionControl description={description} /> : '')}\n\n      {(tags?.length > 0 ?  <TagForm tags={tags} /> : '')}\n\n    </VStack>\n  );\n};\n\nexport default ViewOthersItem;\n","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Select,\n} from \"@chakra-ui/react\";\n\nconst CategoryControl = ({ formState, setFormState }) => {\n  return (\n    <FormControl isRequired>\n      <FormLabel htmlFor=\"type\">Item Category</FormLabel>\n      <Select id=\"type\" w={200} defaultValue={formState.category} onChange={(e) => setFormState({ ...formState, category: e.target.value, hasChanges: true })}>\n        <option>Top</option>\n        <option>Bottom</option>\n        <option>Outerwear</option>\n        <option>Footwear</option>\n        <option>Accessory</option>\n      </Select>\n    </FormControl>\n  );\n}\n\nexport default CategoryControl;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Input,\n} from \"@chakra-ui/react\";\n\nconst DescriptionControl = ({ formState, setFormState }) => {\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"description\">Description</FormLabel>\n      <Input\n        id=\"description\"\n        placeholder=\"Type a description of your item (optional)\"\n        value={formState.description}\n        onChange={(e) => setFormState({ ...formState, description: e.target.value, hasChanges: true })}\n        maxLength=\"100\"\n      />\n    </FormControl>\n  );\n}\n\nexport default DescriptionControl;","import React from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Box,\n  Text,\n  HStack,\n  Tag,\n  TagLabel,\n  TagCloseButton,\n  Input,\n  Stack,\n  Button,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { useState } from 'react';\n\nconst TagForm = ({ formState, setFormState }) => {\n  const [newTag, setNewTag] = useState(\"\");\n  const toast = useToast();\n\n  const addTagHandler = (event) => {\n    event.preventDefault();\n    if (!newTag) return;\n    if (formState.tags.includes(newTag.trim())) {\n      toast({\n        title: \"Tag already exists\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true\n      });\n      return;\n    }\n    setFormState({ ...formState, tags: [...formState.tags, newTag.trim()], hasChanges: true });\n    setNewTag(\"\");\n  };\n\n  const removeTag = (tagToRemove) => {\n    setFormState({ ...formState, tags: formState.tags.filter((tag) => tag !== tagToRemove), hasChanges: true });\n  };\n\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"tags\">Tags</FormLabel>\n      <Box minH={3} pb={1}>\n        {formState.tags.length === 0 ? (\n          <Text>\n            No tags yet. Type a note to tag below and hit enter or the button\n            to add one.\n          </Text>\n        ) : (\n          <HStack>\n            {formState.tags.map((tag) => (\n              <Tag key={tag}>\n                <TagLabel>{tag}</TagLabel>\n                <TagCloseButton onClick={(e) => removeTag(tag)} />\n              </Tag>\n            ))}\n          </HStack>\n        )}\n      </Box>\n      <Stack\n        as=\"form\"\n        name=\"tagForm\"\n        onSubmit={addTagHandler}\n        direction={[\"column\", \"row\"]}\n      >\n        <Input\n          id=\"newTag\"\n          placeholder='\"Size M\", \"Brown\", \"Polo shirt\", \"Gucci\", etc.'\n          value={newTag}\n          onChange={(e) => setNewTag(e.target.value)}\n        />\n        <Button id=\"addNewTagButton\" type=\"submit\">\n          Add New Tag\n        </Button>\n      </Stack>\n    </FormControl>\n  );\n\n}\n\nexport default TagForm;","import React, { useEffect } from 'react'\nimport {\n  FormControl,\n  FormLabel,\n  Box,\n  useToast,\n  IconButton,\n  Image,\n  ButtonGroup,\n  Spinner,\n  Center,\n} from \"@chakra-ui/react\";\nimport { useState } from 'react';\nimport FileUploadButton from '../../../components/FileUploadButton';\nimport { FaTrash } from 'react-icons/fa';\nimport { useMutation } from '@apollo/client';\nimport { ADD_TEMP_IMAGE } from '../../../utils/mutations';\nimport { ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from '../../../utils/firebase';\nimport { DEFAULT_IMAGE_LOCATION, generateFileName, getDownloadURLForImageFile, validateImageType } from '../../../utils/imageUploads';\n\n\n\nconst ImageUploadControls = ({ formState, setFormState }) => {\n  const [addTempImage, { loading: addTempImageLoading }] = useMutation(ADD_TEMP_IMAGE);\n  const [isUploading, setIsUploading] = useState(true);\n  const [imageURL, setImageURL] = useState(DEFAULT_IMAGE_LOCATION);\n  const toast = useToast();\n\n  useEffect(() => {\n    if (!formState.imageFile) {\n      setIsUploading(false);\n      setImageURL(DEFAULT_IMAGE_LOCATION);\n      return;\n    }\n    getDownloadURLForImageFile(formState.imageFile)\n      .then(url => {\n        setImageURL(url);\n        setIsUploading(false);\n      });\n  }, [formState.imageFile]);\n\n  // if (getTempImageData?.tempImageFile && !(imageURL.includes(getTempImageData.tempImageFile))) {\n  //   getDownloadURLForImageFile(getTempImageData.tempImageFile)\n  //     .then(url => {\n  //       setFormState({ ...formState, imageUploaded: true })\n  //       setImageURL(url);\n  //     });\n  // }\n\n\n  const fileUploadHandler = (event) => {\n    const file = event.target.files[0];\n    if (!file) {\n      return;\n    }\n\n    try {\n      // upload to firebase\n      validateImageType(file);\n      const uploadFileName = generateFileName(file);\n      const imageRef = ref(storage, uploadFileName);\n      setIsUploading(true);\n      uploadBytes(imageRef, file)\n        .then(() => {\n          addTempImage({ variables: { filename: uploadFileName } });\n          setFormState({ ...formState, hasChanges: true, imageFile: uploadFileName, imageAction: 'update' });\n        })\n    } catch (error) {\n      console.error(error);\n      toast({\n        title: \"The file you selected wasn't a valid image file!\",\n        status: \"error\",\n        duration: 3000,\n        isClosable: true\n      });\n    }\n  }\n\n  const discardImageHandler = () => {\n    setFormState({ ...formState, hasChanges: true, imageFile: '', imageAction: 'delete' });\n  };\n\n  return (\n    <Box>\n      <FormControl mb={1}>\n        <FormLabel htmlFor=\"fileUpload\">Picture</FormLabel>\n        <ButtonGroup>\n          <FileUploadButton\n            placeholder=\"Click here\"\n            acceptedFileTypes=\".jpg, .jpeg, .png, .gif, .bmp\"\n            name=\"fileUpload\"\n            onChange={fileUploadHandler}\n            isLoading={isUploading || addTempImageLoading}\n          >Click to Upload</FileUploadButton>\n\n          <IconButton aria-label='Discard Image' icon={<FaTrash />} isDisabled={imageURL === DEFAULT_IMAGE_LOCATION} onClick={discardImageHandler} />\n        </ButtonGroup>\n      </FormControl>\n      {\n        (isUploading || addTempImageLoading )\n          ?\n          <Center w=\"320px\" h=\"512px\" border={1} boxShadow=\"md\">\n            <Spinner size='xl' />\n          </Center>\n          :\n          <Image maxH=\"512px\" border={1} boxShadow=\"md\" src={imageURL} />\n      }\n\n    </Box>\n  );\n\n}\n\nexport default ImageUploadControls;","import React, { useState, useRef } from \"react\";\nimport {\n  Button,\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogContent,\n  AlertDialogOverlay,\n} from '@chakra-ui/react';\nimport { useMutation } from \"@apollo/client\";\nimport { REMOVE_ARTICLE } from '../../../utils/mutations';\nimport { GET_BY_CATEGORY } from '../../../utils/queries';\n\nfunction DeleteButton({ article }) {\n  const [isOpen, setIsOpen] = useState(false)\n  const onClose = () => {\n    setIsOpen(false)\n  }\n\n  const [removeArticle] = useMutation(REMOVE_ARTICLE, {\n    refetchQueries: [\n      GET_BY_CATEGORY\n    ]\n  });\n\n  const handleDelete = (e) => {\n    e.preventDefault();\n    removeArticle({\n      variables: { articleId: article._id }\n    }).then(() => {\n      onClose();\n      window.location.assign('/profile');\n    })\n  }\n\n  const cancelRef = useRef()\n\n\n  return (\n    <>\n      <Button onClick={() => setIsOpen(true)}>\n        Delete Item\n      </Button>\n\n      <AlertDialog isOpen={isOpen} leastDestructiveRef={cancelRef} onClose={onClose} >\n        <AlertDialogOverlay>\n          <AlertDialogContent>\n            <AlertDialogHeader fontSize='lg' fontWeight='bold'>\n              Delete Article of Clothing\n            </AlertDialogHeader>\n\n            <AlertDialogBody>\n              Are you sure you want to delete {(article.description) ? `your ${article.description}?` : `this item?`}\n            </AlertDialogBody>\n\n            <AlertDialogFooter>\n              <Button borderRadius='0' ref={cancelRef} onClick={onClose}>\n                Cancel\n              </Button>\n              <Button borderRadius='0' bg='red.400' onClick={handleDelete} ml={3}>\n                Delete\n              </Button>\n            </AlertDialogFooter>\n          </AlertDialogContent>\n        </AlertDialogOverlay>\n      </AlertDialog>\n    </>\n\n  )\n}\n\nexport default DeleteButton;","import React from \"react\";\nimport { VStack, Heading, Button, useToast, HStack } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport Auth from '../../../utils/auth';\nimport { Link, Redirect } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport CategoryControl from './CategoryControl';\nimport DescriptionControl from './DescriptionControl';\nimport TagForm from './TagForm';\nimport ImageUploadControls from './ImageUploadControls';\nimport { UPDATE_ARTICLE } from '../../../utils/mutations';\nimport DeleteButton from './DeleteButton';\n\n\nconst ViewOwnItem = ({ article }) => {\n  const initialFormState = {\n    description: article.description,\n    category: article.category,\n    tags: [...article.tags],\n    imageAction: 'none',\n    imageFile: article.imageFile,\n    hasChanges: false\n  }\n  const [formState, setFormState] = useState(initialFormState);\n  const [submitArticle, { loading }] = useMutation(UPDATE_ARTICLE, { onCompleted: () => { window.location.assign('/profile'); } });\n  const toast = useToast();\n\n  if (!Auth.loggedIn()) {\n    return <Redirect to=\"/\" />;\n  }\n\n  // if (called && !loading) {\n  //   return <Redirect to=\"/profile\" />;\n  // }\n\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (!(\n      (article.imageFile && (!formState.discardImage))\n      || formState.imageAction !== 'none'\n      || formState.description.trim()\n    )\n    ) {\n      toast({\n        title: 'Cannot Update Item',\n        description: \"Your item must have an image or a description.\",\n        status: 'warning',\n        duration: 5000,\n        isClosable: true,\n      });\n      return;\n    }\n\n    const variables = {\n      articleId: article._id,\n      category: formState.category,\n      description: formState.description,\n      tags: formState.tags,\n      imageAction: formState.imageAction\n    }\n    console.log(article)\n    console.log(formState);\n    console.log(variables);\n    submitArticle({\n      variables\n    });\n  };\n\n  return (\n    <VStack padding={4} spacing={6} align=\"stretch\" mb={10}>\n      <Heading>Add Item to Your Wardrobe</Heading>\n\n      <CategoryControl setFormState={setFormState} formState={formState} />\n\n      <ImageUploadControls setFormState={setFormState} formState={formState} />\n\n      <DescriptionControl setFormState={setFormState} formState={formState} />\n\n      <TagForm formState={formState} setFormState={setFormState} />\n\n      <HStack spacing={4} my={8}>\n        <Button onClick={handleSubmit} isLoading={loading} isDisabled={!formState.hasChanges}>\n          Update Item\n        </Button>\n        <Button onClick={() => setFormState(initialFormState)} isDisabled={!formState.hasChanges}>\n          Reset Form\n        </Button>\n        <DeleteButton article={article} />\n        <Button as={Link} to=\"/profile\">\n          Go Back without Updating\n        </Button>\n      </HStack>\n\n    </VStack>\n  );\n};\n\nexport default ViewOwnItem;\n","import { CircularProgress, Heading, VStack } from '@chakra-ui/react';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { GET_ARTICLE } from '../../utils/queries';\nimport Auth from '../../utils/auth';\nimport ViewOthersItem from './ViewOthersItem';\nimport ViewOwnItem from './ViewOwnItem';\nimport { useQuery } from '@apollo/client';\n\nconst ViewItem = () => {\n  const { articleId } = useParams();\n  const { loading, data } = useQuery(GET_ARTICLE, { variables: { articleId } });\n  \n  const article = data?.article || {};\n\n  if (loading) {\n    return (\n      <VStack>\n        <Heading>View Item</Heading>\n        <CircularProgress isIndeterminate size={72}/>\n      </VStack>\n    )\n  }\n  \n  if (!Auth.loggedIn() || Auth.getProfile().data._id !== article.owner._id) {\n    return <ViewOthersItem article={article} />\n  }\n  return <ViewOwnItem article={article} />\n\n}\n\nexport default ViewItem;","import React from 'react';\nimport { ApolloClient, InMemoryCache, ApolloProvider, createHttpLink } from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { ChakraProvider } from '@chakra-ui/react';\nimport { Container } from '@chakra-ui/react';\nimport Header from './components/Header';\nimport Landing from './pages/Landing'\nimport Profile from './pages/Profile';\nimport FullCategory from './pages/FullCategory';\nimport AddItemForm from './pages/AddItemForm'\nimport SignupForm from './components/SignupForm';\nimport { ClothingProvider } from './utils/clothingContext';\nimport ViewItem from './pages/ViewItem';\nimport LoginForm from './components/LoginForm';\nconst httpLink = createHttpLink({\n  uri: '/graphql'\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    }\n  }\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n})\n\n\nfunction App() {\n  return (\n    <ChakraProvider>\n      <ApolloProvider client={client}>\n        \n        \n        <Router>\n          <>\n          <ClothingProvider>\n            {/* <Navbar /> */}\n            <Header />\n            <Container maxW=\"container.lg\">\n            \n            <Switch>\n              <Route exact path='/' component={Landing} />\n              <Route exact path='/signup' component={SignupForm} />\n              <Route exact path='/login' component={LoginForm} />\n              <Route exact path='/profile' component={Profile} />\n              <Route exact path='/profile/:category' component={FullCategory} />\n              <Route exact path='/addItem' component={AddItemForm} />\n              <Route exact path='/viewItem/:articleId' component={ViewItem} />\n              <Route exact path='/login' component={LoginForm} />\n              <Route exact path='/signup' component={SignupForm} />\n              <Route render={() => <h1 className='display-2'>Wrong page!</h1>} />\n            </Switch>\n            </Container>\n          </ClothingProvider>\n          </>\n        </Router>\n        \n      </ApolloProvider>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}